# æœè£…ç”Ÿäº§MESäººå‘˜ç³»ç»Ÿå®æ–½æ–¹æ¡ˆ

## ğŸ“‹ ç›®å½•
- [1. ç°çŠ¶åˆ†æ](#1-ç°çŠ¶åˆ†æ)
- [2. ç³»ç»Ÿæ¶æ„è®¾è®¡](#2-ç³»ç»Ÿæ¶æ„è®¾è®¡)
- [3. æ•°æ®å­˜å‚¨æ¶æ„](#3-æ•°æ®å­˜å‚¨æ¶æ„)
- [4. æ•°æ®æ¨¡å‹è®¾è®¡](#4-æ•°æ®æ¨¡å‹è®¾è®¡)
- [5. åŠŸèƒ½æ¨¡å—è®¾è®¡](#5-åŠŸèƒ½æ¨¡å—è®¾è®¡)
- [6. APIæ¥å£è®¾è®¡](#6-apiæ¥å£è®¾è®¡)
- [7. å°ç¨‹åºUIè®¾è®¡](#7-å°ç¨‹åºuiè®¾è®¡)
- [8. å®æ–½è®¡åˆ’](#8-å®æ–½è®¡åˆ’)
- [9. æ•°æ®è¿ç§»æ–¹æ¡ˆ](#9-æ•°æ®è¿ç§»æ–¹æ¡ˆ)
- [10. å®‰å…¨ä¸æƒé™](#10-å®‰å…¨ä¸æƒé™)

---

## 1. ç°çŠ¶åˆ†æ

### 1.1 å½“å‰ç³»ç»Ÿ

**å·²æœ‰æ¨¡å‹**ï¼š
```go
// WechatUser - å…¨å±€å¾®ä¿¡ç”¨æˆ·ï¼ˆç³»ç»Ÿåº“ï¼štenant_system.wechat_userï¼‰
type WechatUser struct {
    ID        string   `json:"id" bson:"_id,omitempty"`
    UnionID   string   `json:"union_id" bson:"union_id"`    // å¾®ä¿¡UnionID
    OpenID    string   `json:"open_id" bson:"open_id"`      // å¾®ä¿¡OpenID
    Phone     string   `json:"phone" bson:"phone"`          // æ‰‹æœºå·
    Nickname  string   `json:"nickname" bson:"nickname"`    // å¾®ä¿¡æ˜µç§°
    Avatar    string   `json:"avatar" bson:"avatar"`        // å¾®ä¿¡å¤´åƒ
    Gender    int      `json:"gender" bson:"gender"`        // æ€§åˆ«ï¼š0-æœªçŸ¥ 1-ç”· 2-å¥³
    Country   string   `json:"country" bson:"country"`      // å›½å®¶
    Province  string   `json:"province" bson:"province"`    // çœä»½
    City      string   `json:"city" bson:"city"`            // åŸå¸‚
    TenantIDs []string `json:"tenant_ids" bson:"tenant_ids"` // å…³è”çš„ç§Ÿæˆ·IDåˆ—è¡¨
    // ...ç³»ç»Ÿå­—æ®µ
}

// TenantMember - ç§Ÿæˆ·æˆå‘˜ï¼ˆç§Ÿæˆ·åº“ï¼štenant_xxx.memberï¼‰
type TenantMember struct {
    ID         string   `json:"id" bson:"_id,omitempty"`
    UnionID    string   `json:"union_id" bson:"union_id"`  // å…³è”å…¨å±€ç”¨æˆ·
    UserID     string   `json:"user_id" bson:"user_id"`    // å…¨å±€ç”¨æˆ·ID
    Name       string   `json:"name" bson:"name"`          // å§“å
    JobNumber  string   `json:"job_number" bson:"job_number"` // å·¥å·
    Department string   `json:"department" bson:"department"` // éƒ¨é—¨
    Position   string   `json:"position" bson:"position"`     // å²—ä½
    Phone      string   `json:"phone" bson:"phone"`           // è”ç³»ç”µè¯
    Avatar     string   `json:"avatar" bson:"avatar"`         // å¤´åƒ
    Roles      []string `json:"role" bson:"role"`             // è§’è‰²
    Status     string   `json:"status" bson:"status"`         // çŠ¶æ€
    // ...ç³»ç»Ÿå­—æ®µ
}
```

**å°ç¨‹åºç°æœ‰åŠŸèƒ½**ï¼š
- âœ… ç¼–è¾‘å§“åã€æ€§åˆ«ã€ç”µè¯
- âœ… ç¼–è¾‘å·¥å·ã€éƒ¨é—¨ã€å²—ä½
- âœ… ä¸Šä¼ /æ›´æ¢å¤´åƒ

### 1.2 å­˜åœ¨é—®é¢˜

**âŒ ç¼ºå°‘çš„åŸºæœ¬ä¿¡æ¯**ï¼š
- èº«ä»½è¯å·ã€ç”Ÿæ—¥ã€å¹´é¾„ã€æ°‘æ—ã€ç±è´¯
- å©šå§»çŠ¶å†µã€æ”¿æ²»é¢è²Œã€å­¦å†
- å®¶åº­ä½å€ã€ç´§æ€¥è”ç³»äºº
- å‘˜å·¥è¯ä»¶ç…§ï¼ˆä¸åŒäºå¾®ä¿¡å¤´åƒï¼‰

**âŒ ç¼ºå°‘çš„å·¥ä½œä¿¡æ¯**ï¼š
- è½¦é—´ã€ç­ç»„ï¼ˆæœè£…å‚å¿…éœ€ï¼‰
- å…¥èŒæ—¥æœŸã€è½¬æ­£æ—¥æœŸã€å·¥é¾„
- åˆåŒç±»å‹ã€åˆåŒæœŸé™
- ç¦»èŒæ—¥æœŸã€ç¦»èŒåŸå› 

**âŒ ç¼ºå°‘çš„ç”Ÿäº§ç›¸å…³ä¿¡æ¯**ï¼š
- æŠ€èƒ½åˆ—è¡¨ï¼ˆç¼çº«ã€è£å‰ªã€æ•´çƒ«ç­‰ï¼‰
- æŠ€èƒ½ç­‰çº§ï¼ˆåˆçº§ã€ä¸­çº§ã€é«˜çº§ã€ä¸“å®¶ï¼‰
- å¯æ“ä½œå·¥åºï¼ˆå…³è”å·¥åºè¡¨ï¼‰
- è¯ä¹¦èµ„è´¨

**âŒ ç¼ºå°‘çš„è–ªèµ„ä¿¡æ¯**ï¼š
- è–ªèµ„ç±»å‹ï¼ˆè®¡æ—¶ã€è®¡ä»¶ã€æœˆè–ªï¼‰
- åŸºæœ¬å·¥èµ„ã€è®¡ä»¶å•ä»·
- é“¶è¡Œå¡ä¿¡æ¯

**âŒ ç¼ºå°‘çš„ç®¡ç†åŠŸèƒ½**ï¼š
- å‘˜å·¥æŸ¥è¯¢ã€ç»Ÿè®¡
- èŠ±åå†Œå¯¼å‡º
- æŠ€èƒ½ç»Ÿè®¡æŠ¥è¡¨
- åˆåŒåˆ°æœŸæé†’

---

## 2. ç³»ç»Ÿæ¶æ„è®¾è®¡

### 2.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¾®ä¿¡å°ç¨‹åºç«¯                          â”‚
â”‚  - å‘˜å·¥è‡ªåŠ©æœåŠ¡ï¼ˆæŸ¥çœ‹æ¡£æ¡ˆã€ç¼–è¾‘ä¿¡æ¯ï¼‰                   â”‚
â”‚  - è€ƒå‹¤æ‰“å¡ã€å·¥åºä¸ŠæŠ¥                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ HTTP/HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APIç½‘å…³ (Gateway)                     â”‚
â”‚  - JWTè®¤è¯                                              â”‚
â”‚  - ç§Ÿæˆ·ä¸Šä¸‹æ–‡ä¼ é€’                                       â”‚
â”‚  - è·¯ç”±è½¬å‘                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ gRPC
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Miniapp Service (å°ç¨‹åºæœåŠ¡)               â”‚
â”‚  - å¾®ä¿¡ç™»å½•                                             â”‚
â”‚  - å‘˜å·¥æ¡£æ¡ˆç®¡ç†                                         â”‚
â”‚  - ç§Ÿæˆ·åˆ‡æ¢                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  MongoDB æ•°æ®å­˜å‚¨                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç³»ç»Ÿåº“ (tenant_system)                          â”‚  â”‚
â”‚  â”‚  - wechat_user        å…¨å±€å¾®ä¿¡ç”¨æˆ·               â”‚  â”‚
â”‚  â”‚  - user_tenant_map    ç”¨æˆ·-ç§Ÿæˆ·æ˜ å°„              â”‚  â”‚
â”‚  â”‚  - tenant             ç§Ÿæˆ·ä¿¡æ¯                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç§Ÿæˆ·åº“ (tenant_ace)  â† æŒ‰ tenant_code å‘½å     â”‚  â”‚
â”‚  â”‚  - member             ç§Ÿæˆ·æˆå‘˜ï¼ˆå‘˜å·¥æ¡£æ¡ˆï¼‰â˜…      â”‚  â”‚
â”‚  â”‚  - order              è®¢å•æ•°æ®                   â”‚  â”‚
â”‚  â”‚  - production         ç”Ÿäº§æ•°æ®                   â”‚  â”‚
â”‚  â”‚  - ...                å…¶ä»–ä¸šåŠ¡æ•°æ®               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç§Ÿæˆ·åº“ (tenant_factory2)                        â”‚  â”‚
â”‚  â”‚  - member             ç§Ÿæˆ·æˆå‘˜                   â”‚  â”‚
â”‚  â”‚  - ...                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ•°æ®æµ

**ç™»å½•æµç¨‹**ï¼š
```
1. å°ç¨‹åº wx.login() è·å– code
2. è°ƒç”¨ /miniapp/wechat/login (code)
3. åç«¯è°ƒç”¨å¾®ä¿¡APIè·å– UnionID/OpenID
4. æŸ¥è¯¢/åˆ›å»º WechatUserï¼ˆç³»ç»Ÿåº“ï¼‰
5. æŸ¥è¯¢ user_tenant_map è·å–ç§Ÿæˆ·åˆ—è¡¨
6. ç”Ÿæˆ JWT Tokenï¼ˆåŒ…å« tenant_codeï¼‰
7. è¿”å› Token å’Œç”¨æˆ·ä¿¡æ¯
```

**è·å–å‘˜å·¥æ¡£æ¡ˆæµç¨‹**ï¼š
```
1. å°ç¨‹åºæºå¸¦ JWT Token è¯·æ±‚ /miniapp/member/profile
2. ç½‘å…³éªŒè¯ JWTï¼Œæå– tenant_code
3. Context ä¼ é€’ tenant_code
4. Repository è‡ªåŠ¨åˆ‡æ¢åˆ° tenant_xxx æ•°æ®åº“
5. ä» member é›†åˆæŸ¥è¯¢å‘˜å·¥æ¡£æ¡ˆ
6. è¿”å›å®Œæ•´å‘˜å·¥ä¿¡æ¯
```

**æ›´æ–°å‘˜å·¥ä¿¡æ¯æµç¨‹**ï¼š
```
1. å°ç¨‹åºæäº¤æ›´æ–°æ•°æ® PUT /miniapp/member/profile/basic
2. Service å±‚æ ¹æ®å­—æ®µæƒé™åˆ¤æ–­æ˜¯å¦å¯ç¼–è¾‘
3. Repository æ›´æ–° member é›†åˆ
4. åŒæ—¶æ›´æ–° WechatUser ä¸­çš„å†—ä½™å­—æ®µï¼ˆå¦‚å¤´åƒã€æ˜µç§°ï¼‰
```

---

## 3. æ•°æ®å­˜å‚¨æ¶æ„

### 3.1 å­˜å‚¨ç­–ç•¥

**ç³»ç»Ÿåº“ (tenant_system) - å…¨å±€å”¯ä¸€æ•°æ®**ï¼š
| é›†åˆå | è¯´æ˜ | ç”¨é€” |
|--------|------|------|
| `wechat_user` | å¾®ä¿¡ç”¨æˆ· | å­˜å‚¨å…¨å±€å¾®ä¿¡ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼ˆUnionIDã€OpenIDã€æ˜µç§°ã€å¤´åƒç­‰ï¼‰ |
| `user_tenant_map` | ç”¨æˆ·-ç§Ÿæˆ·æ˜ å°„ | è®°å½•ç”¨æˆ·åœ¨å“ªäº›ç§Ÿæˆ·ä¸­æœ‰æˆå‘˜èº«ä»½ |
| `tenant` | ç§Ÿæˆ·ä¿¡æ¯ | ç§Ÿæˆ·åŸºæœ¬ä¿¡æ¯ï¼ˆnameã€codeã€çŠ¶æ€ç­‰ï¼‰ |

**ç§Ÿæˆ·åº“ (tenant_{code}) - ç§Ÿæˆ·éš”ç¦»æ•°æ®**ï¼š
| é›†åˆå | è¯´æ˜ | ç”¨é€” |
|--------|------|------|
| `member` | **ç§Ÿæˆ·æˆå‘˜ï¼ˆå‘˜å·¥æ¡£æ¡ˆï¼‰** | å­˜å‚¨å®Œæ•´çš„å‘˜å·¥æ¡£æ¡ˆä¿¡æ¯ï¼ˆæœ¬æ–¹æ¡ˆæ ¸å¿ƒï¼‰ |
| `order` | è®¢å• | è®¢å•æ•°æ® |
| `production` | ç”Ÿäº§ | ç”Ÿäº§è®°å½• |
| `attendance` | è€ƒå‹¤ | è€ƒå‹¤æ‰“å¡è®°å½• |
| `salary` | è–ªèµ„ | è–ªèµ„è®¡ç®—è®°å½• |

### 3.2 æ•°æ®éš”ç¦»æœºåˆ¶

**ç‰©ç†éš”ç¦»**ï¼š
```go
// é€šè¿‡ tenant_code è‡ªåŠ¨åˆ‡æ¢æ•°æ®åº“
ctx := context.Background()
ctx = tenantCtx.WithTenantCode(ctx, "ace")  // è®¾ç½®ç§Ÿæˆ·code

// Repository è‡ªåŠ¨åˆ‡æ¢åˆ° tenant_ace æ•°æ®åº“
dbName := fmt.Sprintf("tenant_%s", tenantCode) // "tenant_ace"
db := client.Database(dbName)
collection := db.Collection("member")
```

**å…³é”®ä»£ç **ï¼š
```go
// core/context/tenant.go
func WithTenantCode(ctx context.Context, tenantCode string) context.Context {
    return context.WithValue(ctx, TenantCodeKey, tenantCode)
}

func GetTenantCode(ctx context.Context) string {
    if code, ok := ctx.Value(TenantCodeKey).(string); ok {
        return code
    }
    return ""
}

// internal/repository/member.go
func (r *memberRepository) getCollection(ctx context.Context) *mongo.Collection {
    tenantCode := tenantCtx.GetTenantCode(ctx)
    dbName := fmt.Sprintf("tenant_%s", tenantCode)
    db := r.client.Database(dbName)
    return db.Collection("member")
}
```

### 3.3 æ•°æ®å…³è”

```
ç³»ç»Ÿåº“                       ç§Ÿæˆ·åº“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ wechat_user     â”‚         â”‚ member          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚         â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ _id (user_id)   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚ user_id         â”‚
â”‚ union_id        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚ union_id        â”‚
â”‚ nickname        â”‚         â”‚ name            â”‚
â”‚ avatar          â”‚         â”‚ avatar          â”‚
â”‚ phone           â”‚         â”‚ phone           â”‚
â”‚                 â”‚         â”‚ job_number      â”‚
â”‚                 â”‚         â”‚ department      â”‚
â”‚                 â”‚         â”‚ skills          â”‚
â”‚                 â”‚         â”‚ salary_type     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å…³è”æ–¹å¼ï¼š
1. union_id ä½œä¸ºå…¨å±€å”¯ä¸€æ ‡è¯†ï¼ˆä¸»è¦ï¼‰
2. user_id ä½œä¸ºè¾…åŠ©å…³è”ï¼ˆWechatUser._idï¼‰
```

### 3.4 æ•°æ®å†—ä½™ç­–ç•¥

**å†—ä½™å­—æ®µ**ï¼ˆæé«˜æŸ¥è¯¢æ€§èƒ½ï¼‰ï¼š
```go
// WechatUserï¼ˆç³»ç»Ÿåº“ï¼‰å­˜å‚¨å¾®ä¿¡åŸå§‹ä¿¡æ¯
WechatUser.Nickname = "å¾®ä¿¡æ˜µç§°"
WechatUser.Avatar   = "å¾®ä¿¡å¤´åƒ"
WechatUser.Phone    = "æ‰‹æœºå·"

// TenantMemberï¼ˆç§Ÿæˆ·åº“ï¼‰å­˜å‚¨ä¼ä¸šå†…ä¿¡æ¯ï¼ˆå¯è¢«ç®¡ç†å‘˜ä¿®æ”¹ï¼‰
TenantMember.Name   = "å¼ ä¸‰"      // ä¼ä¸šå†…ç§°å‘¼ï¼Œå¯èƒ½ä¸å¾®ä¿¡æ˜µç§°ä¸åŒ
TenantMember.Avatar = "å·¥ä½œç…§"    // ä¼ä¸šå†…å¤´åƒï¼Œå¯èƒ½ä¸å¾®ä¿¡å¤´åƒä¸åŒ
TenantMember.Phone  = "å·¥ä½œæ‰‹æœº"  // å·¥ä½œæ‰‹æœºï¼Œå¯èƒ½ä¸å¾®ä¿¡ç»‘å®šæ‰‹æœºä¸åŒ
```

**æ›´æ–°ç­–ç•¥**ï¼š
1. ç”¨æˆ·åœ¨å°ç¨‹åºç¼–è¾‘åŸºæœ¬ä¿¡æ¯ â†’ åŒæ—¶æ›´æ–° WechatUser å’Œ TenantMember
2. ç®¡ç†å‘˜ä¿®æ”¹å‘˜å·¥ä¿¡æ¯ â†’ åªæ›´æ–° TenantMember
3. å¾®ä¿¡ç™»å½•æ›´æ–°å¤´åƒæ˜µç§° â†’ åªæ›´æ–° WechatUser

### 3.5 ç´¢å¼•è®¾è®¡

**ç³»ç»Ÿåº“ - wechat_user ç´¢å¼•**ï¼š
```javascript
db.wechat_user.createIndex({ "union_id": 1 }, { unique: true, sparse: true })
db.wechat_user.createIndex({ "open_id": 1 }, { unique: true })
db.wechat_user.createIndex({ "phone": 1 }, { unique: true, sparse: true })
db.wechat_user.createIndex({ "tenant_ids": 1 })
```

**ç§Ÿæˆ·åº“ - member ç´¢å¼•**ï¼š
```javascript
db.member.createIndex({ "union_id": 1 }, { unique: true })  // å…¨å±€å”¯ä¸€
db.member.createIndex({ "user_id": 1 })                     // å…³è”æŸ¥è¯¢
db.member.createIndex({ "job_number": 1 }, { unique: true, sparse: true }) // å·¥å·å”¯ä¸€
db.member.createIndex({ "phone": 1 })                       // æ‰‹æœºå·æŸ¥è¯¢
db.member.createIndex({ "department": 1, "status": 1 })     // éƒ¨é—¨ç­›é€‰
db.member.createIndex({ "status": 1, "is_deleted": 1 })     // çŠ¶æ€ç­›é€‰
db.member.createIndex({ "id_card_no": 1 }, { unique: true, sparse: true }) // èº«ä»½è¯å”¯ä¸€
db.member.createIndex({ "skills.process_ids": 1 })          // æŠ€èƒ½æŸ¥è¯¢
```

---

## 4. æ•°æ®æ¨¡å‹è®¾è®¡

### 4.1 TenantMember å®Œæ•´æ¨¡å‹

```go
package models

// TenantMember ç§Ÿæˆ·æˆå‘˜ï¼ˆå‘˜å·¥æ¡£æ¡ˆï¼‰- å­˜å‚¨åœ¨ç§Ÿæˆ·åº“ tenant_xxx.member
type TenantMember struct {
    ID string `json:"id" bson:"_id,omitempty"` // MongoDB ObjectID
    
    // ========== åŸºç¡€å…³è” ==========
    UnionID string `json:"union_id" bson:"union_id"` // å¾®ä¿¡UnionIDï¼ˆå…¨å±€å”¯ä¸€æ ‡è¯†ï¼‰
    UserID  string `json:"user_id" bson:"user_id"`   // å…¨å±€ç”¨æˆ·IDï¼ˆWechatUser._idï¼‰
    
    // ========== ä¸ªäººåŸºæœ¬ä¿¡æ¯ ==========
    Name        string `json:"name" bson:"name"`               // å§“åï¼ˆçœŸå®å§“åï¼‰
    NamePinyin  string `json:"name_pinyin" bson:"name_pinyin"` // å§“åæ‹¼éŸ³ï¼ˆç”¨äºæ’åºï¼‰
    Gender      int    `json:"gender" bson:"gender"`           // æ€§åˆ«ï¼š0-æœªçŸ¥ 1-ç”· 2-å¥³
    IDCardType  string `json:"id_card_type" bson:"id_card_type"` // è¯ä»¶ç±»å‹ï¼šidcard-èº«ä»½è¯ passport-æŠ¤ç…§
    IDCardNo    string `json:"id_card_no" bson:"id_card_no"`   // èº«ä»½è¯å·/æŠ¤ç…§å·ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰
    Birthday    int64  `json:"birthday" bson:"birthday"`       // å‡ºç”Ÿæ—¥æœŸï¼ˆUnixæ—¶é—´æˆ³ï¼‰
    Age         int    `json:"age" bson:"age"`                 // å¹´é¾„ï¼ˆè‡ªåŠ¨è®¡ç®—ï¼‰
    Nation      string `json:"nation" bson:"nation"`           // æ°‘æ—ï¼ˆå¦‚ï¼šæ±‰æ—ã€å›æ—ç­‰ï¼‰
    NativePlace string `json:"native_place" bson:"native_place"` // ç±è´¯ï¼ˆå¦‚ï¼šå¹¿ä¸œæ·±åœ³ï¼‰
    MaritalStatus string `json:"marital_status" bson:"marital_status"` // å©šå§»çŠ¶å†µï¼šsingle-æœªå©š married-å·²å©š divorced-ç¦»å¼‚
    Political   string `json:"political" bson:"political"`     // æ”¿æ²»é¢è²Œï¼šparty-å…šå‘˜ league-å›¢å‘˜ masses-ç¾¤ä¼—
    Education   string `json:"education" bson:"education"`     // å­¦å†ï¼šprimary-å°å­¦ middle-åˆä¸­ high-é«˜ä¸­ college-å¤§ä¸“ bachelor-æœ¬ç§‘ master-ç¡•å£« doctor-åšå£«
    Avatar      string `json:"avatar" bson:"avatar"`           // å¤´åƒï¼ˆå¯èƒ½ä¸å¾®ä¿¡å¤´åƒä¸åŒï¼‰
    Photo       string `json:"photo" bson:"photo"`             // å‘˜å·¥è¯ä»¶ç…§ï¼ˆä¸€å¯¸ç…§ï¼‰
    
    // ========== è”ç³»ä¿¡æ¯ ==========
    Phone            string `json:"phone" bson:"phone"`                   // æ‰‹æœºå·ï¼ˆä¸»è¦è”ç³»æ–¹å¼ï¼‰
    Email            string `json:"email" bson:"email"`                   // é‚®ç®±
    Address          string `json:"address" bson:"address"`               // å®¶åº­ä½å€ï¼ˆè¯¦ç»†åœ°å€ï¼‰
    EmergencyContact string `json:"emergency_contact" bson:"emergency_contact"` // ç´§æ€¥è”ç³»äººå§“å
    EmergencyPhone   string `json:"emergency_phone" bson:"emergency_phone"`     // ç´§æ€¥è”ç³»ç”µè¯
    EmergencyRelation string `json:"emergency_relation" bson:"emergency_relation"` // ä¸ç´§æ€¥è”ç³»äººå…³ç³»ï¼ˆå¦‚ï¼šçˆ¶äº²ã€é…å¶ç­‰ï¼‰
    
    // ========== ä¼ä¸šä¿¡æ¯ ==========
    JobNumber    string `json:"job_number" bson:"job_number"`   // å·¥å·ï¼ˆä¼ä¸šå†…å”¯ä¸€ï¼‰
    Department   string `json:"department" bson:"department"`   // éƒ¨é—¨åç§°ï¼ˆå¦‚ï¼šç”Ÿäº§éƒ¨ã€è´¨æ£€éƒ¨ï¼‰
    DepartmentID string `json:"department_id" bson:"department_id"` // éƒ¨é—¨IDï¼ˆå¦‚æœæœ‰éƒ¨é—¨è¡¨ï¼‰
    Position     string `json:"position" bson:"position"`       // å²—ä½åç§°ï¼ˆå¦‚ï¼šç¼çº«å·¥ã€è£å‰ªå¸ˆï¼‰
    PositionID   string `json:"position_id" bson:"position_id"` // å²—ä½IDï¼ˆå¦‚æœæœ‰å²—ä½è¡¨ï¼‰
    Workshop     string `json:"workshop" bson:"workshop"`       // è½¦é—´ï¼ˆå¦‚ï¼šä¸€è½¦é—´ã€äºŒè½¦é—´ï¼‰
    WorkshopID   string `json:"workshop_id" bson:"workshop_id"` // è½¦é—´ID
    Team         string `json:"team" bson:"team"`               // ç­ç»„ï¼ˆå¦‚ï¼šAç»„ã€Bç»„ï¼‰
    TeamID       string `json:"team_id" bson:"team_id"`         // ç­ç»„ID
    TeamLeader   string `json:"team_leader" bson:"team_leader"` // ç­ç»„é•¿å§“å
    
    // ========== æƒé™ä¸è§’è‰² ==========
    Roles       []string `json:"role" bson:"role"`             // è§’è‰²IDæ•°ç»„ï¼ˆæ³¨æ„ï¼šå­—æ®µåä¸ºroleå•æ•°ï¼‰
    Permissions []string `json:"permissions" bson:"permissions"` // é¢å¤–æƒé™
    
    // ========== å·¥ä½œç›¸å…³ ==========
    EmployedAt      int64  `json:"employed_at" bson:"employed_at"`         // å…¥èŒæ—¥æœŸï¼ˆUnixæ—¶é—´æˆ³ï¼‰
    RegularAt       int64  `json:"regular_at" bson:"regular_at"`           // è½¬æ­£æ—¥æœŸï¼ˆ0è¡¨ç¤ºæœªè½¬æ­£ï¼‰
    ContractType    string `json:"contract_type" bson:"contract_type"`     // åˆåŒç±»å‹ï¼šfulltime-å…¨èŒ parttime-å…¼èŒ intern-å®ä¹  dispatch-åŠ³åŠ¡æ´¾é£
    ContractStartAt int64  `json:"contract_start_at" bson:"contract_start_at"` // åˆåŒå¼€å§‹æ—¥æœŸ
    ContractEndAt   int64  `json:"contract_end_at" bson:"contract_end_at"`     // åˆåŒç»“æŸæ—¥æœŸï¼ˆ0è¡¨ç¤ºæ— å›ºå®šæœŸé™ï¼‰
    WorkYears       int    `json:"work_years" bson:"work_years"`           // å·¥é¾„ï¼ˆè‡ªåŠ¨è®¡ç®—ï¼Œå¹´ï¼‰
    WorkMonths      int    `json:"work_months" bson:"work_months"`         // å·¥é¾„ï¼ˆè‡ªåŠ¨è®¡ç®—ï¼Œæœˆï¼‰
    
    // ========== æŠ€èƒ½ä¸èµ„è´¨ï¼ˆæœè£…ç”Ÿäº§ç‰¹æœ‰ï¼‰ ==========
    Skills       []MemberSkill       `json:"skills" bson:"skills"`             // æŠ€èƒ½åˆ—è¡¨
    Certificates []MemberCertificate `json:"certificates" bson:"certificates"` // è¯ä¹¦åˆ—è¡¨
    
    // ========== è–ªèµ„ä¿¡æ¯ï¼ˆæ•æ„Ÿä¿¡æ¯ï¼Œæƒé™æ§åˆ¶ï¼‰ ==========
    SalaryType      string  `json:"salary_type" bson:"salary_type"`         // è–ªèµ„ç±»å‹ï¼šhourly-è®¡æ—¶ piece-è®¡ä»¶ monthly-æœˆè–ª mixed-æ··åˆ
    BaseSalary      float64 `json:"base_salary" bson:"base_salary"`         // åŸºæœ¬å·¥èµ„ï¼ˆå…ƒ/æœˆï¼‰
    HourlyRate      float64 `json:"hourly_rate" bson:"hourly_rate"`         // æ—¶è–ªï¼ˆå…ƒ/å°æ—¶ï¼‰
    PieceRate       float64 `json:"piece_rate" bson:"piece_rate"`           // è®¡ä»¶å•ä»·ï¼ˆå…ƒ/ä»¶ï¼Œæœè£…è¡Œä¸šå¸¸ç”¨ï¼‰
    BankName        string  `json:"bank_name" bson:"bank_name"`             // å¼€æˆ·è¡Œ
    BankAccount     string  `json:"bank_account" bson:"bank_account"`       // é“¶è¡Œå¡å·ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰
    BankAccountName string  `json:"bank_account_name" bson:"bank_account_name"` // å¼€æˆ·å
    
    // ========== çŠ¶æ€ ==========
    Status      string `json:"status" bson:"status"`             // çŠ¶æ€ï¼šactive-åœ¨èŒ probation-è¯•ç”¨æœŸ inactive-ç¦»èŒ suspended-åœèŒ
    LeftAt      int64  `json:"left_at" bson:"left_at,omitempty"` // ç¦»èŒæ—¶é—´ï¼ˆUnixæ—¶é—´æˆ³ï¼‰
    LeftReason  string `json:"left_reason" bson:"left_reason"`   // ç¦»èŒåŸå› 
    
    // ========== å¤‡æ³¨ ==========
    Remark string `json:"remark" bson:"remark"` // å¤‡æ³¨ï¼ˆå¯å¡«å†™ç‰¹æ®Šæƒ…å†µè¯´æ˜ï¼‰
    
    // ========== ç³»ç»Ÿå­—æ®µ ==========
    IsDeleted int    `json:"is_deleted" bson:"is_deleted"`
    CreatedBy string `json:"created_by" bson:"created_by"`
    UpdatedBy string `json:"updated_by" bson:"updated_by"`
    CreatedAt int64  `json:"created_at" bson:"created_at"`
    UpdatedAt int64  `json:"updated_at" bson:"updated_at"`
}

// MemberSkill å‘˜å·¥æŠ€èƒ½ï¼ˆæœè£…ç”Ÿäº§ç‰¹æœ‰ï¼‰
type MemberSkill struct {
    Name       string   `json:"name" bson:"name"`               // æŠ€èƒ½åç§°ï¼ˆå¦‚ï¼šç¼çº«ã€è£å‰ªã€æ•´çƒ«ã€åŒ…è£…ã€è´¨æ£€ç­‰ï¼‰
    Level      string   `json:"level" bson:"level"`             // æŠ€èƒ½ç­‰çº§ï¼šbeginner-åˆçº§ intermediate-ä¸­çº§ advanced-é«˜çº§ expert-ä¸“å®¶
    ProcessIDs []string `json:"process_ids" bson:"process_ids"` // å¯æ“ä½œçš„å·¥åºIDåˆ—è¡¨ï¼ˆå…³è”å·¥åºè¡¨ï¼‰
    ObtainedAt int64    `json:"obtained_at" bson:"obtained_at"` // è·å¾—æ—¶é—´ï¼ˆUnixæ—¶é—´æˆ³ï¼‰
    Remark     string   `json:"remark" bson:"remark"`           // å¤‡æ³¨
}

// MemberCertificate å‘˜å·¥è¯ä¹¦
type MemberCertificate struct {
    Name       string `json:"name" bson:"name"`               // è¯ä¹¦åç§°ï¼ˆå¦‚ï¼šèŒä¸šæŠ€èƒ½ç­‰çº§è¯ä¹¦ã€ç‰¹ç§ä½œä¸šæ“ä½œè¯ç­‰ï¼‰
    No         string `json:"no" bson:"no"`                   // è¯ä¹¦ç¼–å·
    IssueOrg   string `json:"issue_org" bson:"issue_org"`     // å‘è¯æœºå…³
    IssuedAt   int64  `json:"issued_at" bson:"issued_at"`     // å‘è¯æ—¥æœŸï¼ˆUnixæ—¶é—´æˆ³ï¼‰
    ExpiredAt  int64  `json:"expired_at" bson:"expired_at"`   // è¿‡æœŸæ—¥æœŸï¼ˆ0è¡¨ç¤ºé•¿æœŸæœ‰æ•ˆï¼‰
    FileURL    string `json:"file_url" bson:"file_url"`       // è¯ä¹¦æ‰«æä»¶URL
}

// TableName è¿”å›é›†åˆå
func (TenantMember) TableName() string {
    return "member"
}

// IsActive æ˜¯å¦åœ¨èŒ
func (m *TenantMember) IsActive() bool {
    return m.Status == "active"
}

// IsProbation æ˜¯å¦è¯•ç”¨æœŸ
func (m *TenantMember) IsProbation() bool {
    return m.Status == "probation"
}

// CalculateAge è®¡ç®—å¹´é¾„
func (m *TenantMember) CalculateAge() int {
    if m.Birthday == 0 {
        return 0
    }
    birthYear := time.Unix(m.Birthday, 0).Year()
    currentYear := time.Now().Year()
    return currentYear - birthYear
}

// CalculateWorkYears è®¡ç®—å·¥é¾„ï¼ˆè¿”å›å¹´å’Œæœˆï¼‰
func (m *TenantMember) CalculateWorkYears() (years int, months int) {
    if m.EmployedAt == 0 {
        return 0, 0
    }
    
    employedTime := time.Unix(m.EmployedAt, 0)
    now := time.Now()
    
    years = now.Year() - employedTime.Year()
    months = int(now.Month()) - int(employedTime.Month())
    
    if months < 0 {
        years--
        months += 12
    }
    
    return years, months
}

// HasSkill æ˜¯å¦æ‹¥æœ‰æŒ‡å®šæŠ€èƒ½
func (m *TenantMember) HasSkill(skillName string) bool {
    for _, skill := range m.Skills {
        if skill.Name == skillName {
            return true
        }
    }
    return false
}

// CanOperateProcess æ˜¯å¦å¯ä»¥æ“ä½œæŒ‡å®šå·¥åº
func (m *TenantMember) CanOperateProcess(processID string) bool {
    for _, skill := range m.Skills {
        for _, pid := range skill.ProcessIDs {
            if pid == processID {
                return true
            }
        }
    }
    return false
}

// MaskIDCardNo è„±æ•èº«ä»½è¯å·
func (m *TenantMember) MaskIDCardNo() string {
    if len(m.IDCardNo) < 8 {
        return m.IDCardNo
    }
    return m.IDCardNo[:3] + "***********" + m.IDCardNo[len(m.IDCardNo)-4:]
}

// MaskBankAccount è„±æ•é“¶è¡Œå¡å·
func (m *TenantMember) MaskBankAccount() string {
    if len(m.BankAccount) < 8 {
        return m.BankAccount
    }
    return m.BankAccount[:4] + " **** **** " + m.BankAccount[len(m.BankAccount)-4:]
}
```

### 4.2 å­—æ®µè¯´æ˜è¡¨

| åˆ†ç±» | å­—æ®µæ•° | å¿…å¡«å­—æ®µ | å¯é€‰å­—æ®µ |
|------|--------|----------|----------|
| åŸºç¡€å…³è” | 2 | UnionID, UserID | - |
| ä¸ªäººåŸºæœ¬ä¿¡æ¯ | 13 | Name, Gender | Birthday, IDCardNo, Nation, Educationç­‰ |
| è”ç³»ä¿¡æ¯ | 6 | Phone | Email, Address, EmergencyContactç­‰ |
| ä¼ä¸šä¿¡æ¯ | 10 | JobNumber, Department, Position | Workshop, Teamç­‰ |
| æƒé™ä¸è§’è‰² | 2 | Roles | Permissions |
| å·¥ä½œç›¸å…³ | 7 | EmployedAt, ContractType | RegularAt, ContractEndAtç­‰ |
| æŠ€èƒ½ä¸èµ„è´¨ | 2 | - | Skills, Certificates |
| è–ªèµ„ä¿¡æ¯ | 8 | SalaryType | BaseSalary, BankAccountç­‰ |
| çŠ¶æ€ | 3 | Status | LeftAt, LeftReason |
| å…¶ä»– | 1 | - | Remark |
| ç³»ç»Ÿå­—æ®µ | 5 | IsDeleted, CreatedAt, UpdatedAt | CreatedBy, UpdatedBy |

**æ€»è®¡**ï¼š59ä¸ªå­—æ®µï¼ˆæ¯”åŸæ¥çš„12ä¸ªå­—æ®µæ‰©å±•äº†47ä¸ªï¼‰

---

## 5. åŠŸèƒ½æ¨¡å—è®¾è®¡

### 5.1 åç«¯æœåŠ¡ç»“æ„

```
app/miniapp/
â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ member.go          # å‘˜å·¥ç›¸å…³DTOï¼ˆæ–°å¢ï¼‰
â”‚   â””â”€â”€ wechat.go          # å¾®ä¿¡ç›¸å…³DTOï¼ˆå·²æœ‰ï¼‰
â”œâ”€â”€ endpoint/
â”‚   â”œâ”€â”€ member.go          # å‘˜å·¥APIç«¯ç‚¹ï¼ˆæ–°å¢ï¼‰
â”‚   â””â”€â”€ wechat.go          # å¾®ä¿¡APIç«¯ç‚¹ï¼ˆå·²æœ‰ï¼‰
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ member_service.go  # å‘˜å·¥æœåŠ¡ï¼ˆæ–°å¢ï¼‰
â”‚   â””â”€â”€ wechat.go          # å¾®ä¿¡æœåŠ¡ï¼ˆå·²æœ‰ï¼‰
â””â”€â”€ transport/
    â”œâ”€â”€ member.go          # å‘˜å·¥HTTPè·¯ç”±ï¼ˆæ–°å¢ï¼‰
    â””â”€â”€ wechat.go          # å¾®ä¿¡HTTPè·¯ç”±ï¼ˆå·²æœ‰ï¼‰

internal/repository/
â”œâ”€â”€ tenant_member.go       # å‘˜å·¥Repositoryï¼ˆæ‰©å±•ï¼‰
â””â”€â”€ wechat_user.go         # å¾®ä¿¡ç”¨æˆ·Repositoryï¼ˆå·²æœ‰ï¼‰
```

### 5.2 æ ¸å¿ƒåŠŸèƒ½åˆ—è¡¨

#### 5.2.1 å‘˜å·¥ç«¯ï¼ˆå°ç¨‹åºï¼‰

**ä¸ªäººæ¡£æ¡ˆç®¡ç†**ï¼š
- âœ… æŸ¥çœ‹å®Œæ•´ä¸ªäººæ¡£æ¡ˆ
- âœ… ç¼–è¾‘åŸºæœ¬ä¿¡æ¯ï¼ˆå§“åã€æ€§åˆ«ã€ç”Ÿæ—¥ã€æ°‘æ—ã€å­¦å†ç­‰ï¼‰
- âœ… ç¼–è¾‘è”ç³»ä¿¡æ¯ï¼ˆæ‰‹æœºã€åœ°å€ã€ç´§æ€¥è”ç³»äººï¼‰
- âœ… ä¸Šä¼ /æ›´æ¢å¤´åƒå’Œè¯ä»¶ç…§
- âœ… æŸ¥çœ‹å·¥ä½œä¿¡æ¯ï¼ˆå·¥å·ã€éƒ¨é—¨ã€å²—ä½ã€å…¥èŒæ—¶é—´ç­‰ï¼Œåªè¯»ï¼‰
- âœ… æŸ¥çœ‹æŠ€èƒ½å’Œè¯ä¹¦ï¼ˆåªè¯»ï¼Œç”±ç®¡ç†å‘˜ç»´æŠ¤ï¼‰
- âœ… æŸ¥çœ‹è–ªèµ„ç±»å‹ï¼ˆè®¡æ—¶/è®¡ä»¶ï¼Œéšè—å…·ä½“é‡‘é¢ï¼‰

**æ•°æ®æƒé™**ï¼š
- å‘˜å·¥åªèƒ½æŸ¥çœ‹å’Œç¼–è¾‘è‡ªå·±çš„æ¡£æ¡ˆ
- æ•æ„Ÿå­—æ®µè„±æ•æ˜¾ç¤ºï¼ˆèº«ä»½è¯ã€é“¶è¡Œå¡ï¼‰
- éƒ¨åˆ†å­—æ®µåªè¯»ï¼ˆå·¥å·ã€éƒ¨é—¨ã€è–ªèµ„ç­‰ï¼‰

#### 5.2.2 ç®¡ç†ç«¯ï¼ˆPCåå° - å¯åç»­æ‰©å±•ï¼‰

**å‘˜å·¥ç®¡ç†**ï¼š
- â¬œ å‘˜å·¥åˆ—è¡¨æŸ¥è¯¢ï¼ˆæ”¯æŒæŒ‰éƒ¨é—¨ã€å²—ä½ã€çŠ¶æ€ç­›é€‰ï¼‰
- â¬œ å‘˜å·¥è¯¦æƒ…æŸ¥çœ‹
- â¬œ æ·»åŠ æ–°å‘˜å·¥
- â¬œ ç¼–è¾‘å‘˜å·¥æ¡£æ¡ˆï¼ˆæ‰€æœ‰å­—æ®µï¼‰
- â¬œ å‘˜å·¥ç¦»èŒå¤„ç†
- â¬œ æ‰¹é‡å¯¼å…¥å‘˜å·¥ï¼ˆExcelï¼‰
- â¬œ å¯¼å‡ºå‘˜å·¥èŠ±åå†Œï¼ˆExcelï¼‰

**æŠ€èƒ½ç®¡ç†**ï¼š
- â¬œ ä¸ºå‘˜å·¥åˆ†é…æŠ€èƒ½å’Œç­‰çº§
- â¬œ å…³è”å‘˜å·¥å¯æ“ä½œçš„å·¥åº
- â¬œ æŠ€èƒ½ç»Ÿè®¡æŠ¥è¡¨

**åˆåŒç®¡ç†**ï¼š
- â¬œ åˆåŒåˆ°æœŸæé†’
- â¬œ è¯•ç”¨æœŸå‘˜å·¥åˆ—è¡¨
- â¬œ è½¬æ­£æé†’

**ç»Ÿè®¡æŠ¥è¡¨**ï¼š
- â¬œ å‘˜å·¥å¹´é¾„åˆ†å¸ƒ
- â¬œ å‘˜å·¥å­¦å†åˆ†å¸ƒ
- â¬œ å‘˜å·¥å·¥é¾„åˆ†å¸ƒ
- â¬œ éƒ¨é—¨äººå‘˜ç»Ÿè®¡
- â¬œ æŠ€èƒ½åˆ†å¸ƒç»Ÿè®¡

---

## 6. APIæ¥å£è®¾è®¡

### 6.1 å‘˜å·¥è‡ªåŠ©æœåŠ¡ APIï¼ˆå°ç¨‹åºï¼‰

#### 6.1.1 è·å–ä¸ªäººæ¡£æ¡ˆ

```http
GET /miniapp/member/profile
Authorization: Bearer {JWT_TOKEN}
```

**Response**:
```json
{
  "code": 200,
  "data": {
    "id": "member_id_xxx",
    "union_id": "union_id_xxx",
    "user_id": "user_id_xxx",
    
    // ä¸ªäººåŸºæœ¬ä¿¡æ¯
    "name": "å¼ ä¸‰",
    "name_pinyin": "zhangsan",
    "gender": 1,
    "id_card_type": "idcard",
    "id_card_no": "430***********1234",  // è„±æ•
    "birthday": 946656000,
    "age": 28,
    "nation": "æ±‰æ—",
    "native_place": "æ¹–å—é•¿æ²™",
    "marital_status": "married",
    "political": "masses",
    "education": "college",
    "avatar": "https://cdn.example.com/avatar.jpg",
    "photo": "https://cdn.example.com/photo.jpg",
    
    // è”ç³»ä¿¡æ¯
    "phone": "13800138000",
    "email": "zhangsan@example.com",
    "address": "å¹¿ä¸œçœæ·±åœ³å¸‚å—å±±åŒº...",
    "emergency_contact": "æå››",
    "emergency_phone": "13900139000",
    "emergency_relation": "é…å¶",
    
    // ä¼ä¸šä¿¡æ¯
    "job_number": "GY001",
    "department": "ç”Ÿäº§éƒ¨",
    "department_id": "dept_xxx",
    "position": "ç¼çº«å·¥",
    "position_id": "pos_xxx",
    "workshop": "ä¸€è½¦é—´",
    "team": "Aç»„",
    "team_leader": "ç‹äº”",
    
    // è§’è‰²æƒé™
    "role": ["employee"],
    "permissions": [],
    
    // å·¥ä½œç›¸å…³
    "employed_at": 1577808000,  // 2020-01-01
    "regular_at": 1585641600,   // 2020-04-01
    "contract_type": "fulltime",
    "contract_start_at": 1577808000,
    "contract_end_at": 1735660800,  // 2025-01-01
    "work_years": 5,
    "work_months": 3,
    
    // æŠ€èƒ½ï¼ˆåªè¯»ï¼‰
    "skills": [
      {
        "name": "ç¼çº«",
        "level": "advanced",
        "process_ids": ["proc_001", "proc_002"],
        "obtained_at": 1609430400,
        "remark": "ç†Ÿç»ƒæŒæ¡å„ç±»ç¼çº«æŠ€æœ¯"
      }
    ],
    
    // è¯ä¹¦ï¼ˆåªè¯»ï¼‰
    "certificates": [
      {
        "name": "èŒä¸šæŠ€èƒ½ç­‰çº§è¯ä¹¦",
        "no": "CERT123456",
        "issue_org": "äººåŠ›èµ„æºå’Œç¤¾ä¼šä¿éšœéƒ¨",
        "issued_at": 1609430400,
        "expired_at": 0,  // é•¿æœŸæœ‰æ•ˆ
        "file_url": "https://cdn.example.com/cert.pdf"
      }
    ],
    
    // è–ªèµ„ä¿¡æ¯ï¼ˆéƒ¨åˆ†éšè—ï¼‰
    "salary_type": "piece",  // è®¡ä»¶
    // base_salary, bank_account ç­‰æ•æ„Ÿä¿¡æ¯ä¸è¿”å›
    
    // çŠ¶æ€
    "status": "active",
    "remark": "",
    
    // ç³»ç»Ÿå­—æ®µ
    "created_at": 1577808000,
    "updated_at": 1698768000
  }
}
```

#### 6.1.2 æ›´æ–°åŸºæœ¬ä¿¡æ¯

```http
PUT /miniapp/member/profile/basic
Authorization: Bearer {JWT_TOKEN}
Content-Type: application/json
```

**Request**:
```json
{
  "name": "å¼ ä¸‰",
  "gender": 1,
  "id_card_no": "430121199501011234",  // å¯é€‰ï¼Œé¦–æ¬¡å¡«å†™åä¸å¯ä¿®æ”¹
  "birthday": 946656000,
  "nation": "æ±‰æ—",
  "native_place": "æ¹–å—é•¿æ²™",
  "marital_status": "married",
  "political": "masses",
  "education": "college"
}
```

**å¯ç¼–è¾‘å­—æ®µé™åˆ¶**ï¼š
- âœ… å…è®¸ç¼–è¾‘ï¼šå§“åã€æ€§åˆ«ã€ç”Ÿæ—¥ã€æ°‘æ—ã€ç±è´¯ã€å©šå§»çŠ¶å†µã€æ”¿æ²»é¢è²Œã€å­¦å†
- âŒ ä¸å…è®¸ç¼–è¾‘ï¼šå·¥å·ã€éƒ¨é—¨ã€å²—ä½ã€è§’è‰²ã€è–ªèµ„ç­‰ï¼ˆåªèƒ½ç”±ç®¡ç†å‘˜ä¿®æ”¹ï¼‰
- âš ï¸ ç‰¹æ®Šï¼šèº«ä»½è¯å·é¦–æ¬¡å¡«å†™åä¸å¯ä¿®æ”¹ï¼ˆéœ€ç®¡ç†å‘˜å®¡æ ¸ä¿®æ”¹ï¼‰

#### 6.1.3 æ›´æ–°è”ç³»ä¿¡æ¯

```http
PUT /miniapp/member/profile/contact
Authorization: Bearer {JWT_TOKEN}
Content-Type: application/json
```

**Request**:
```json
{
  "phone": "13800138000",
  "email": "zhangsan@example.com",
  "address": "å¹¿ä¸œçœæ·±åœ³å¸‚å—å±±åŒº...",
  "emergency_contact": "æå››",
  "emergency_phone": "13900139000",
  "emergency_relation": "é…å¶"
}
```

#### 6.1.4 ä¸Šä¼ è¯ä»¶ç…§

```http
POST /miniapp/member/profile/photo
Authorization: Bearer {JWT_TOKEN}
Content-Type: multipart/form-data
```

**Request**:
```
file: å›¾ç‰‡æ–‡ä»¶ï¼ˆæ”¯æŒjpgã€pngï¼Œæœ€å¤§5MBï¼‰
type: avatar | photo  // avatar-å¤´åƒ photo-è¯ä»¶ç…§
```

**Response**:
```json
{
  "code": 200,
  "data": {
    "url": "https://cdn.example.com/photos/xxx.jpg"
  }
}
```

### 6.2 ç®¡ç†ç«¯ APIï¼ˆPCåå° - å¯åç»­æ‰©å±•ï¼‰

#### 6.2.1 å‘˜å·¥åˆ—è¡¨ï¼ˆåˆ†é¡µã€ç­›é€‰ã€æœç´¢ï¼‰

```http
GET /admin/members?page=1&size=20&department=ç”Ÿäº§éƒ¨&status=active&keyword=å¼ ä¸‰
Authorization: Bearer {ADMIN_JWT_TOKEN}
```

**Queryå‚æ•°**:
- `page`: é¡µç ï¼ˆé»˜è®¤1ï¼‰
- `size`: æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤20ï¼‰
- `department`: éƒ¨é—¨ç­›é€‰
- `workshop`: è½¦é—´ç­›é€‰
- `position`: å²—ä½ç­›é€‰
- `status`: çŠ¶æ€ç­›é€‰ï¼ˆactive/probation/inactiveï¼‰
- `keyword`: å…³é”®è¯æœç´¢ï¼ˆå§“åã€å·¥å·ã€æ‰‹æœºå·ï¼‰

**Response**:
```json
{
  "code": 200,
  "data": {
    "list": [
      {
        "id": "member_id_xxx",
        "name": "å¼ ä¸‰",
        "job_number": "GY001",
        "department": "ç”Ÿäº§éƒ¨",
        "position": "ç¼çº«å·¥",
        "phone": "13800138000",
        "status": "active",
        "employed_at": 1577808000
      }
    ],
    "total": 100,
    "page": 1,
    "size": 20
  }
}
```

#### 6.2.2 åˆ›å»ºå‘˜å·¥

```http
POST /admin/members
Authorization: Bearer {ADMIN_JWT_TOKEN}
Content-Type: application/json
```

**Request**:
```json
{
  "name": "å¼ ä¸‰",
  "gender": 1,
  "phone": "13800138000",
  "job_number": "GY001",
  "department": "ç”Ÿäº§éƒ¨",
  "position": "ç¼çº«å·¥",
  "employed_at": 1577808000,
  "contract_type": "fulltime",
  "salary_type": "piece",
  // ...å…¶ä»–å­—æ®µ
}
```

#### 6.2.3 å‘˜å·¥ç¦»èŒ

```http
POST /admin/members/:id/resign
Authorization: Bearer {ADMIN_JWT_TOKEN}
Content-Type: application/json
```

**Request**:
```json
{
  "left_at": 1698768000,
  "left_reason": "ä¸ªäººåŸå› "
}
```

#### 6.2.4 æ‰¹é‡å¯¼å…¥å‘˜å·¥

```http
POST /admin/members/import
Authorization: Bearer {ADMIN_JWT_TOKEN}
Content-Type: multipart/form-data
```

**Request**:
```
file: Excelæ–‡ä»¶ï¼ˆxlsxï¼‰
```

**Excelæ ¼å¼**:
| å§“å | æ€§åˆ« | æ‰‹æœºå· | å·¥å· | éƒ¨é—¨ | å²—ä½ | å…¥èŒæ—¥æœŸ |
|------|------|--------|------|------|------|----------|
| å¼ ä¸‰ | ç”·   | 138... | GY001| ç”Ÿäº§éƒ¨| ç¼çº«å·¥| 2020-01-01|

#### 6.2.5 å¯¼å‡ºå‘˜å·¥èŠ±åå†Œ

```http
GET /admin/members/export?department=ç”Ÿäº§éƒ¨&status=active
Authorization: Bearer {ADMIN_JWT_TOKEN}
```

**Response**: Excelæ–‡ä»¶ä¸‹è½½

---

## 7. å°ç¨‹åºUIè®¾è®¡

### 7.1 é¡µé¢ç»“æ„

```
wxApp/src/pages/member/
â”œâ”€â”€ profile/
â”‚   â””â”€â”€ profile.vue        # ä¸ªäººæ¡£æ¡ˆï¼ˆæŸ¥çœ‹ï¼‰
â”œâ”€â”€ edit-profile/
â”‚   â””â”€â”€ edit-profile.vue   # ç¼–è¾‘åŸºæœ¬ä¿¡æ¯ï¼ˆæ‰©å±•ç°æœ‰é¡µé¢ï¼‰
â”œâ”€â”€ edit-contact/
â”‚   â””â”€â”€ edit-contact.vue   # ç¼–è¾‘è”ç³»ä¿¡æ¯ï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ work-info/
â”‚   â””â”€â”€ work-info.vue      # å·¥ä½œä¿¡æ¯ï¼ˆæŸ¥çœ‹ï¼Œåªè¯»ï¼‰
â””â”€â”€ skills/
    â””â”€â”€ skills.vue         # æŠ€èƒ½è¯ä¹¦ï¼ˆæŸ¥çœ‹ï¼Œåªè¯»ï¼‰
```

### 7.2 ä¸ªäººæ¡£æ¡ˆé¡µé¢ (profile.vue)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ä¸ªäººæ¡£æ¡ˆ                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚       [å¤´åƒ]    [è¯ä»¶ç…§]           â”‚
â”‚                                     â”‚
â”‚       å¼ ä¸‰                          â”‚
â”‚       ç”Ÿäº§éƒ¨ Â· ç¼çº«å·¥               â”‚
â”‚       å·¥å·ï¼šGY001                   â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ åŸºæœ¬ä¿¡æ¯              [ç¼–è¾‘]    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å§“å     å¼ ä¸‰                â”‚   â”‚
â”‚  â”‚ æ€§åˆ«     ç”·                  â”‚   â”‚
â”‚  â”‚ èº«ä»½è¯   430***********1234  â”‚   â”‚
â”‚  â”‚ ç”Ÿæ—¥     1995-01-01          â”‚   â”‚
â”‚  â”‚ æ°‘æ—     æ±‰æ—                â”‚   â”‚
â”‚  â”‚ ç±è´¯     æ¹–å—é•¿æ²™            â”‚   â”‚
â”‚  â”‚ å©šå§»     å·²å©š                â”‚   â”‚
â”‚  â”‚ å­¦å†     å¤§ä¸“                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ è”ç³»ä¿¡æ¯              [ç¼–è¾‘]    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ‰‹æœº     13800138000         â”‚   â”‚
â”‚  â”‚ é‚®ç®±     zhangsan@...        â”‚   â”‚
â”‚  â”‚ ä½å€     å¹¿ä¸œçœæ·±åœ³å¸‚...     â”‚   â”‚
â”‚  â”‚ ç´§æ€¥è”ç³»äºº æå››              â”‚   â”‚
â”‚  â”‚ ç´§æ€¥ç”µè¯  13900139000        â”‚   â”‚
â”‚  â”‚ å…³ç³»     é…å¶                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¼ å·¥ä½œä¿¡æ¯              [æŸ¥çœ‹]    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å·¥å·     GY001               â”‚   â”‚
â”‚  â”‚ éƒ¨é—¨     ç”Ÿäº§éƒ¨              â”‚   â”‚
â”‚  â”‚ å²—ä½     ç¼çº«å·¥              â”‚   â”‚
â”‚  â”‚ è½¦é—´     ä¸€è½¦é—´              â”‚   â”‚
â”‚  â”‚ ç­ç»„     Aç»„                 â”‚   â”‚
â”‚  â”‚ å…¥èŒæ—¥æœŸ  2020-01-01         â”‚   â”‚
â”‚  â”‚ å·¥é¾„     5å¹´3ä¸ªæœˆ            â”‚   â”‚
â”‚  â”‚ åˆåŒç±»å‹  å…¨èŒ               â”‚   â”‚
â”‚  â”‚ åˆåŒæœŸé™  2020-01 è‡³ 2025-01 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â­ æŠ€èƒ½è¯ä¹¦              [æŸ¥çœ‹]    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç¼çº« - é«˜çº§              âœ“   â”‚   â”‚
â”‚  â”‚ å¯æ“ä½œ2ä¸ªå·¥åº                â”‚   â”‚
â”‚  â”‚                              â”‚   â”‚
â”‚  â”‚ èŒä¸šæŠ€èƒ½ç­‰çº§è¯ä¹¦          ğŸ“„â”‚   â”‚
â”‚  â”‚ ç¼–å·ï¼šCERT123456             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’° è–ªèµ„ä¿¡æ¯                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ è–ªèµ„ç±»å‹  è®¡ä»¶               â”‚   â”‚
â”‚  â”‚ (å…·ä½“é‡‘é¢è¯·è”ç³»äººäº‹éƒ¨é—¨)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 ç¼–è¾‘åŸºæœ¬ä¿¡æ¯é¡µé¢ (edit-profile.vue)

**æ‰©å±•ç°æœ‰é¡µé¢ï¼Œæ·»åŠ æ›´å¤šå­—æ®µ**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ç¼–è¾‘åŸºæœ¬ä¿¡æ¯               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  [å¤´åƒ]          [è¯ä»¶ç…§]          â”‚
â”‚  ç‚¹å‡»æ›´æ¢         ç‚¹å‡»ä¸Šä¼           â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å§“å         [å¼ ä¸‰____________]    â”‚
â”‚  æ€§åˆ«         âšªç”·  âšªå¥³             â”‚
â”‚  èº«ä»½è¯å·     [430121...____]      â”‚
â”‚               (é¦–æ¬¡å¡«å†™åä¸å¯ä¿®æ”¹)  â”‚
â”‚  å‡ºç”Ÿæ—¥æœŸ     [é€‰æ‹©æ—¥æœŸ______]     â”‚
â”‚  æ°‘æ—         [æ±‰æ—â–¼_______]       â”‚
â”‚  ç±è´¯         [æ¹–å—é•¿æ²™______]     â”‚
â”‚  å©šå§»çŠ¶å†µ     [å·²å©šâ–¼_______]       â”‚
â”‚  æ”¿æ²»é¢è²Œ     [ç¾¤ä¼—â–¼_______]       â”‚
â”‚  å­¦å†         [å¤§ä¸“â–¼_______]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              [ä¿å­˜]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.4 ç¼–è¾‘è”ç³»ä¿¡æ¯é¡µé¢ (edit-contact.vue)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ç¼–è¾‘è”ç³»ä¿¡æ¯               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ‰‹æœºå·       [13800138000____]    â”‚
â”‚  é‚®ç®±         [zhangsan@...___]    â”‚
â”‚  å®¶åº­ä½å€     [________________]   â”‚
â”‚               [________________]   â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€ ç´§æ€¥è”ç³»äºº â”€â”€â”€â”€â”€             â”‚
â”‚  å§“å         [æå››__________]     â”‚
â”‚  ç”µè¯         [13900139000____]    â”‚
â”‚  å…³ç³»         [é…å¶â–¼________]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              [ä¿å­˜]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.5 å·¥ä½œä¿¡æ¯é¡µé¢ (work-info.vue)

**åªè¯»å±•ç¤ºï¼Œä¸å¯ç¼–è¾‘**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å·¥ä½œä¿¡æ¯                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å·¥å·         GY001                 â”‚
â”‚  éƒ¨é—¨         ç”Ÿäº§éƒ¨                â”‚
â”‚  å²—ä½         ç¼çº«å·¥                â”‚
â”‚  è½¦é—´         ä¸€è½¦é—´                â”‚
â”‚  ç­ç»„         Aç»„                   â”‚
â”‚  ç­ç»„é•¿       ç‹äº”                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å…¥èŒæ—¥æœŸ     2020-01-01            â”‚
â”‚  è½¬æ­£æ—¥æœŸ     2020-04-01            â”‚
â”‚  å·¥é¾„         5å¹´3ä¸ªæœˆ              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åˆåŒç±»å‹     å…¨èŒ                  â”‚
â”‚  åˆåŒæœŸé™     2020-01-01            â”‚
â”‚               è‡³                     â”‚
â”‚               2025-01-01            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš ï¸ ä»¥ä¸Šä¿¡æ¯å¦‚æœ‰é”™è¯¯ï¼Œ              â”‚
â”‚     è¯·è”ç³»äººäº‹éƒ¨é—¨ä¿®æ”¹              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.6 æŠ€èƒ½è¯ä¹¦é¡µé¢ (skills.vue)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          æŠ€èƒ½è¯ä¹¦                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”€â”€â”€â”€â”€ æŠ€èƒ½åˆ—è¡¨ â”€â”€â”€â”€â”€               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç¼çº«              é«˜çº§   âœ“  â”‚   â”‚
â”‚  â”‚ è·å¾—æ—¶é—´ï¼š2021-01-01        â”‚   â”‚
â”‚  â”‚ å¯æ“ä½œå·¥åºï¼š                 â”‚   â”‚
â”‚  â”‚ â€¢ å¹³ç¼                       â”‚   â”‚
â”‚  â”‚ â€¢ é”è¾¹                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ•´çƒ«              ä¸­çº§   âœ“  â”‚   â”‚
â”‚  â”‚ è·å¾—æ—¶é—´ï¼š2022-06-01        â”‚   â”‚
â”‚  â”‚ å¯æ“ä½œå·¥åºï¼š                 â”‚   â”‚
â”‚  â”‚ â€¢ ç†¨çƒ«                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”€â”€â”€â”€â”€ è¯ä¹¦åˆ—è¡¨ â”€â”€â”€â”€â”€               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“„ èŒä¸šæŠ€èƒ½ç­‰çº§è¯ä¹¦          â”‚   â”‚
â”‚  â”‚ ç¼–å·ï¼šCERT123456             â”‚   â”‚
â”‚  â”‚ å‘è¯æœºå…³ï¼šäººç¤¾éƒ¨             â”‚   â”‚
â”‚  â”‚ å‘è¯æ—¥æœŸï¼š2021-01-01         â”‚   â”‚
â”‚  â”‚ æœ‰æ•ˆæœŸï¼šé•¿æœŸæœ‰æ•ˆ             â”‚   â”‚
â”‚  â”‚                   [æŸ¥çœ‹è¯ä¹¦] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš ï¸ æŠ€èƒ½å’Œè¯ä¹¦ç”±ç®¡ç†å‘˜ç»´æŠ¤ï¼Œ        â”‚
â”‚     å¦‚æœ‰ç–‘é—®è¯·è”ç³»äººäº‹éƒ¨é—¨          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. å®æ–½è®¡åˆ’

### 8.1 æ€»ä½“æ—¶é—´è¡¨

| é˜¶æ®µ | ä»»åŠ¡ | å·¥ä½œé‡ | é¢„è®¡å®Œæˆ |
|------|------|--------|----------|
| **é˜¶æ®µä¸€** | æ•°æ®æ¨¡å‹å’ŒRepository | 0.5å¤© | Day 1 ä¸Šåˆ |
| **é˜¶æ®µäºŒ** | Serviceå±‚å’ŒDTO | 1å¤© | Day 1-2 |
| **é˜¶æ®µä¸‰** | APIæ¥å£ï¼ˆEndpoint+Transportï¼‰ | 1å¤© | Day 2-3 |
| **é˜¶æ®µå››** | å°ç¨‹åºå‰ç«¯ï¼ˆ5ä¸ªé¡µé¢ï¼‰ | 2-3å¤© | Day 3-6 |
| **é˜¶æ®µäº”** | æ•°æ®è¿ç§»å’Œæµ‹è¯• | 1å¤© | Day 7 |
| **æ€»è®¡** | | **5-7å¤©** | |

### 8.2 é˜¶æ®µä¸€ï¼šæ•°æ®æ¨¡å‹å’ŒRepository (0.5å¤©)

#### Task 1.1: æ‰©å±• TenantMember æ¨¡å‹
- âœ… æ–‡ä»¶ï¼š`internal/models/tenant_member.go`
- âœ… æ·»åŠ æ–°å­—æ®µï¼ˆ47ä¸ªï¼‰
- âœ… æ·»åŠ è¾…åŠ©æ–¹æ³•ï¼ˆCalculateAgeã€MaskIDCardNoç­‰ï¼‰
- â±ï¸ é¢„è®¡ï¼š2å°æ—¶

#### Task 1.2: æ‰©å±• TenantMemberRepository
- âœ… æ–‡ä»¶ï¼š`internal/repository/tenant_member.go`
- âœ… æ·»åŠ æŸ¥è¯¢æ–¹æ³•ï¼ˆæŒ‰éƒ¨é—¨ã€å²—ä½ã€æŠ€èƒ½æŸ¥è¯¢ï¼‰
- âœ… æ·»åŠ æ›´æ–°æ–¹æ³•ï¼ˆåˆ†å­—æ®µæ›´æ–°ï¼‰
- â±ï¸ é¢„è®¡ï¼š2å°æ—¶

### 8.3 é˜¶æ®µäºŒï¼šServiceå±‚å’ŒDTO (1å¤©)

#### Task 2.1: åˆ›å»º DTO
- âœ… æ–‡ä»¶ï¼š`app/miniapp/dto/member.go`
- âœ… GetProfileResponse - è·å–æ¡£æ¡ˆå“åº”
- âœ… UpdateBasicInfoRequest - æ›´æ–°åŸºæœ¬ä¿¡æ¯è¯·æ±‚
- âœ… UpdateContactInfoRequest - æ›´æ–°è”ç³»ä¿¡æ¯è¯·æ±‚
- â±ï¸ é¢„è®¡ï¼š2å°æ—¶

#### Task 2.2: åˆ›å»º MemberService
- âœ… æ–‡ä»¶ï¼š`app/miniapp/services/member_service.go`
- âœ… GetProfile() - è·å–ä¸ªäººæ¡£æ¡ˆ
- âœ… UpdateBasicInfo() - æ›´æ–°åŸºæœ¬ä¿¡æ¯
- âœ… UpdateContactInfo() - æ›´æ–°è”ç³»ä¿¡æ¯
- âœ… UploadPhoto() - ä¸Šä¼ ç…§ç‰‡
- âœ… å­—æ®µæƒé™æ§åˆ¶ï¼ˆå‘˜å·¥å¯ç¼–è¾‘/åªè¯»ï¼‰
- â±ï¸ é¢„è®¡ï¼š4å°æ—¶

#### Task 2.3: æ‰©å±•æ–‡ä»¶ä¸Šä¼ æœåŠ¡
- âœ… æ”¯æŒå‘˜å·¥è¯ä»¶ç…§ä¸Šä¼ 
- âœ… æ”¯æŒè¯ä¹¦æ–‡ä»¶ä¸Šä¼ 
- â±ï¸ é¢„è®¡ï¼š2å°æ—¶

### 8.4 é˜¶æ®µä¸‰ï¼šAPIæ¥å£ (1å¤©)

#### Task 3.1: åˆ›å»º Endpoint
- âœ… æ–‡ä»¶ï¼š`app/miniapp/endpoint/member.go`
- âœ… MakeGetProfileEndpoint
- âœ… MakeUpdateBasicInfoEndpoint
- âœ… MakeUpdateContactInfoEndpoint
- âœ… MakeUploadPhotoEndpoint
- â±ï¸ é¢„è®¡ï¼š3å°æ—¶

#### Task 3.2: åˆ›å»º HTTP Transport
- âœ… æ–‡ä»¶ï¼š`app/miniapp/transport/member.go`
- âœ… è·¯ç”±æ³¨å†Œ
- âœ… è¯·æ±‚/å“åº”ç¼–è§£ç 
- â±ï¸ é¢„è®¡ï¼š2å°æ—¶

#### Task 3.3: é›†æˆæµ‹è¯•
- âœ… ä½¿ç”¨Postmanæµ‹è¯•æ‰€æœ‰API
- âœ… éªŒè¯æ•°æ®å­˜å‚¨åˆ°æ­£ç¡®çš„ç§Ÿæˆ·åº“
- â±ï¸ é¢„è®¡ï¼š3å°æ—¶

### 8.5 é˜¶æ®µå››ï¼šå°ç¨‹åºå‰ç«¯ (2-3å¤©)

#### Task 4.1: åˆ›å»ºä¸ªäººæ¡£æ¡ˆé¡µé¢
- âœ… æ–‡ä»¶ï¼š`wxApp/src/pages/member/profile/profile.vue`
- âœ… å±•ç¤ºå®Œæ•´å‘˜å·¥ä¿¡æ¯ï¼ˆåˆ†åŒºå—ï¼‰
- âœ… è·³è½¬åˆ°å„ç¼–è¾‘é¡µé¢
- âœ… æ•æ„Ÿä¿¡æ¯è„±æ•æ˜¾ç¤º
- â±ï¸ é¢„è®¡ï¼š4å°æ—¶

#### Task 4.2: æ‰©å±•ç¼–è¾‘åŸºæœ¬ä¿¡æ¯é¡µé¢
- âœ… æ–‡ä»¶ï¼š`wxApp/src/pages/member/edit-profile/edit-profile.vue`ï¼ˆæ‰©å±•ç°æœ‰ï¼‰
- âœ… æ·»åŠ èº«ä»½è¯ã€ç”Ÿæ—¥ã€æ°‘æ—ç­‰å­—æ®µ
- âœ… æ—¥æœŸé€‰æ‹©å™¨ã€ä¸‹æ‹‰é€‰æ‹©å™¨
- âœ… è¡¨å•éªŒè¯
- â±ï¸ é¢„è®¡ï¼š4å°æ—¶

#### Task 4.3: åˆ›å»ºç¼–è¾‘è”ç³»ä¿¡æ¯é¡µé¢
- âœ… æ–‡ä»¶ï¼š`wxApp/src/pages/member/edit-contact/edit-contact.vue`
- âœ… ç¼–è¾‘æ‰‹æœºã€é‚®ç®±ã€åœ°å€
- âœ… ç¼–è¾‘ç´§æ€¥è”ç³»äºº
- â±ï¸ é¢„è®¡ï¼š3å°æ—¶

#### Task 4.4: åˆ›å»ºå·¥ä½œä¿¡æ¯é¡µé¢
- âœ… æ–‡ä»¶ï¼š`wxApp/src/pages/member/work-info/work-info.vue`
- âœ… åªè¯»å±•ç¤ºå·¥ä½œä¿¡æ¯
- âœ… æ˜¾ç¤ºå·¥é¾„è®¡ç®—
- â±ï¸ é¢„è®¡ï¼š2å°æ—¶

#### Task 4.5: åˆ›å»ºæŠ€èƒ½è¯ä¹¦é¡µé¢
- âœ… æ–‡ä»¶ï¼š`wxApp/src/pages/member/skills/skills.vue`
- âœ… å±•ç¤ºæŠ€èƒ½åˆ—è¡¨ï¼ˆæŠ€èƒ½åã€ç­‰çº§ã€å¯æ“ä½œå·¥åºï¼‰
- âœ… å±•ç¤ºè¯ä¹¦åˆ—è¡¨ï¼ˆè¯ä¹¦åã€ç¼–å·ã€æœ‰æ•ˆæœŸï¼‰
- âœ… æŸ¥çœ‹è¯ä¹¦æ‰«æä»¶
- â±ï¸ é¢„è®¡ï¼š3å°æ—¶

#### Task 4.6: ç…§ç‰‡ä¸Šä¼ åŠŸèƒ½
- âœ… å¤´åƒä¸Šä¼ ï¼ˆæ‹ç…§/ç›¸å†Œï¼‰
- âœ… è¯ä»¶ç…§ä¸Šä¼ ï¼ˆæ‹ç…§/ç›¸å†Œï¼‰
- âœ… å›¾ç‰‡è£å‰ªå’Œå‹ç¼©
- â±ï¸ é¢„è®¡ï¼š3å°æ—¶

#### Task 4.7: è·¯ç”±é…ç½®å’Œå¯¼èˆª
- âœ… é…ç½®é¡µé¢è·¯ç”±
- âœ… ä»"æˆ‘çš„"é¡µé¢å…¥å£
- â±ï¸ é¢„è®¡ï¼š1å°æ—¶

### 8.6 é˜¶æ®µäº”ï¼šæ•°æ®è¿ç§»å’Œæµ‹è¯• (1å¤©)

#### Task 5.1: æ•°æ®è¿ç§»è„šæœ¬
- âœ… ä¸ºç°æœ‰ member è®°å½•å¡«å……é»˜è®¤å€¼
- âœ… æ•°æ®éªŒè¯
- â±ï¸ é¢„è®¡ï¼š2å°æ—¶

#### Task 5.2: åŠŸèƒ½æµ‹è¯•
- âœ… æŸ¥çœ‹æ¡£æ¡ˆ
- âœ… ç¼–è¾‘åŸºæœ¬ä¿¡æ¯
- âœ… ç¼–è¾‘è”ç³»ä¿¡æ¯
- âœ… ä¸Šä¼ ç…§ç‰‡
- âœ… æŸ¥çœ‹å·¥ä½œä¿¡æ¯
- âœ… æŸ¥çœ‹æŠ€èƒ½è¯ä¹¦
- â±ï¸ é¢„è®¡ï¼š3å°æ—¶

#### Task 5.3: å…¼å®¹æ€§æµ‹è¯•
- âœ… å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»æµ‹è¯•
- âœ… å­—æ®µæƒé™æµ‹è¯•
- âœ… æ•°æ®è„±æ•æµ‹è¯•
- â±ï¸ é¢„è®¡ï¼š2å°æ—¶

---

## 9. æ•°æ®è¿ç§»æ–¹æ¡ˆ

### 9.1 è¿ç§»ç­–ç•¥

**ç°æœ‰æ•°æ®**ï¼š
- ç§Ÿæˆ·åº“ä¸­å·²æœ‰ `member` é›†åˆ
- åªæœ‰åŸºç¡€å­—æ®µï¼ˆname, job_number, department, positionç­‰ï¼‰

**è¿ç§»ç›®æ ‡**ï¼š
- ä¿ç•™ç°æœ‰æ•°æ®
- ä¸ºæ–°å­—æ®µå¡«å……é»˜è®¤å€¼
- ä¸å½±å“ç°æœ‰åŠŸèƒ½

### 9.2 è¿ç§»è„šæœ¬

**æ–‡ä»¶**ï¼š`scripts/migrate_member_fields.js`

```javascript
// MongoDB Shell è¿ç§»è„šæœ¬
// ç”¨æ³•ï¼šåˆ‡æ¢åˆ°ç§Ÿæˆ·æ•°æ®åº“åè¿è¡Œ
// use tenant_ace
// load('scripts/migrate_member_fields.js')

print("=== å¼€å§‹è¿ç§» member é›†åˆ ===");

// è·å–å½“å‰æ•°æ®åº“å
const dbName = db.getName();
print(`å½“å‰æ•°æ®åº“: ${dbName}`);

// ç»Ÿè®¡ç°æœ‰è®°å½•æ•°
const totalCount = db.member.countDocuments({ is_deleted: 0 });
print(`æ‰¾åˆ° ${totalCount} æ¡å‘˜å·¥è®°å½•`);

// æ‰¹é‡æ›´æ–°ï¼šä¸ºæ–°å­—æ®µè®¾ç½®é»˜è®¤å€¼
const result = db.member.updateMany(
    { is_deleted: 0 },
    {
        $set: {
            // ä¸ªäººåŸºæœ¬ä¿¡æ¯
            name_pinyin: "",
            id_card_type: "idcard",
            id_card_no: "",
            birthday: 0,
            age: 0,
            nation: "æ±‰æ—",
            native_place: "",
            marital_status: "single",
            political: "masses",
            education: "",
            photo: "",
            
            // è”ç³»ä¿¡æ¯
            email: "",
            address: "",
            emergency_contact: "",
            emergency_phone: "",
            emergency_relation: "",
            
            // ä¼ä¸šä¿¡æ¯æ‰©å±•
            department_id: "",
            position_id: "",
            workshop: "",
            workshop_id: "",
            team: "",
            team_id: "",
            team_leader: "",
            
            // å·¥ä½œç›¸å…³
            regular_at: 0,
            contract_type: "fulltime",  // é»˜è®¤å…¨èŒ
            contract_start_at: 0,
            contract_end_at: 0,
            work_years: 0,
            work_months: 0,
            
            // æŠ€èƒ½ä¸èµ„è´¨
            skills: [],
            certificates: [],
            
            // è–ªèµ„ä¿¡æ¯
            salary_type: "piece",  // æœè£…å‚é»˜è®¤è®¡ä»¶
            base_salary: 0,
            hourly_rate: 0,
            piece_rate: 0,
            bank_name: "",
            bank_account: "",
            bank_account_name: "",
            
            // å¤‡æ³¨
            remark: ""
        }
    }
);

print(`âœ… æ›´æ–°å®Œæˆ: ${result.modifiedCount} æ¡è®°å½•`);

// åˆ›å»ºæ–°ç´¢å¼•
print("\n=== åˆ›å»ºç´¢å¼• ===");

db.member.createIndex({ "job_number": 1 }, { unique: true, sparse: true });
print("âœ… job_number ç´¢å¼•");

db.member.createIndex({ "phone": 1 });
print("âœ… phone ç´¢å¼•");

db.member.createIndex({ "id_card_no": 1 }, { unique: true, sparse: true });
print("âœ… id_card_no ç´¢å¼•");

db.member.createIndex({ "department": 1, "status": 1 });
print("âœ… department+status å¤åˆç´¢å¼•");

db.member.createIndex({ "skills.process_ids": 1 });
print("âœ… skills.process_ids ç´¢å¼•");

print("\n=== è¿ç§»å®Œæˆ ===");
print("è¯·åœ¨å°ç¨‹åºæµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š");
print("1. æŸ¥çœ‹ä¸ªäººæ¡£æ¡ˆ");
print("2. ç¼–è¾‘åŸºæœ¬ä¿¡æ¯");
print("3. ç¼–è¾‘è”ç³»ä¿¡æ¯");
```

### 9.3 è¿ç§»æ­¥éª¤

1. **å¤‡ä»½æ•°æ®**ï¼š
   ```bash
   mongodump --uri="mongodb://localhost:27015/tenant_ace" --out=backup_$(date +%Y%m%d)
   ```

2. **è¿è¡Œè¿ç§»è„šæœ¬**ï¼š
   ```bash
   mongo --host localhost --port 27015 \
         --username root --password xxx \
         tenant_ace \
         scripts/migrate_member_fields.js
   ```

3. **éªŒè¯æ•°æ®**ï¼š
   ```javascript
   // æŸ¥çœ‹ä¸€æ¡è®°å½•ï¼ŒéªŒè¯æ–°å­—æ®µ
   db.member.findOne({ is_deleted: 0 })
   ```

4. **å¯¹æ‰€æœ‰ç§Ÿæˆ·åº“æ‰§è¡Œ**ï¼š
   ```bash
   # åˆ—å‡ºæ‰€æœ‰ç§Ÿæˆ·æ•°æ®åº“
   mongo --eval "db.adminCommand('listDatabases').databases.forEach(d => { if(d.name.startsWith('tenant_')) print(d.name) })"
   
   # å¯¹æ¯ä¸ªç§Ÿæˆ·åº“æ‰§è¡Œè¿ç§»
   for db in tenant_ace tenant_factory2; do
       mongo $db scripts/migrate_member_fields.js
   done
   ```

### 9.4 å›æ»šæ–¹æ¡ˆ

å¦‚æœè¿ç§»å‡ºç°é—®é¢˜ï¼š

```bash
# æ¢å¤å¤‡ä»½
mongorestore --uri="mongodb://localhost:27015/tenant_ace" backup_20241019/tenant_ace
```

---

## 10. å®‰å…¨ä¸æƒé™

### 10.1 æ•°æ®è„±æ•

**æ•æ„Ÿå­—æ®µè„±æ•è§„åˆ™**ï¼š

```go
// MaskIDCardNo è„±æ•èº«ä»½è¯å·
// 430121199501011234 â†’ 430***********1234
func MaskIDCardNo(idCardNo string) string {
    if len(idCardNo) < 8 {
        return idCardNo
    }
    return idCardNo[:3] + "***********" + idCardNo[len(idCardNo)-4:]
}

// MaskBankAccount è„±æ•é“¶è¡Œå¡å·
// 6222021234567890 â†’ 6222 **** **** 7890
func MaskBankAccount(bankAccount string) string {
    if len(bankAccount) < 8 {
        return bankAccount
    }
    return bankAccount[:4] + " **** **** " + bankAccount[len(bankAccount)-4:]
}
```

**å‰ç«¯å±•ç¤º**ï¼š
- èº«ä»½è¯å·ï¼š`430***********1234`
- é“¶è¡Œå¡å·ï¼š`6222 **** **** 7890`
- å‘˜å·¥æŸ¥çœ‹è‡ªå·±ï¼šæ˜¾ç¤ºè„±æ•
- ç®¡ç†å‘˜æŸ¥çœ‹ï¼šæ˜¾ç¤ºå®Œæ•´ï¼ˆæƒé™æ§åˆ¶ï¼‰

### 10.2 å­—æ®µæƒé™æ§åˆ¶

**å‘˜å·¥å¯ç¼–è¾‘å­—æ®µ**ï¼ˆå°ç¨‹åºï¼‰ï¼š
```go
var EmployeeEditableFields = []string{
    "name", "gender", "birthday", "nation", "native_place",
    "marital_status", "political", "education", "avatar", "photo",
    "phone", "email", "address",
    "emergency_contact", "emergency_phone", "emergency_relation",
}
```

**å‘˜å·¥åªè¯»å­—æ®µ**ï¼ˆåªèƒ½ç®¡ç†å‘˜ä¿®æ”¹ï¼‰ï¼š
- å·¥å·ã€éƒ¨é—¨ã€å²—ä½ã€è½¦é—´ã€ç­ç»„
- è§’è‰²ã€æƒé™
- å…¥èŒæ—¥æœŸã€è½¬æ­£æ—¥æœŸã€åˆåŒä¿¡æ¯
- æŠ€èƒ½ã€è¯ä¹¦
- è–ªèµ„ä¿¡æ¯

**Serviceå±‚æƒé™æ£€æŸ¥**ï¼š
```go
func (s *MemberService) UpdateBasicInfo(ctx context.Context, userID string, req dto.UpdateBasicInfoRequest) error {
    // 1. è·å–å½“å‰ç”¨æˆ·
    member, err := s.repo.GetByUserID(ctx, userID)
    if err != nil {
        return err
    }
    
    // 2. æ„å»ºæ›´æ–°å­—æ®µï¼ˆåªå…è®¸å‘˜å·¥å¯ç¼–è¾‘å­—æ®µï¼‰
    updateData := map[string]interface{}{
        "updated_at": time.Now().Unix(),
    }
    
    // 3. åªæ›´æ–°å…è®¸çš„å­—æ®µ
    if req.Name != "" {
        updateData["name"] = req.Name
    }
    if req.Gender != 0 {
        updateData["gender"] = req.Gender
    }
    // ... å…¶ä»–å¯ç¼–è¾‘å­—æ®µ
    
    // 4. ç‰¹æ®Šå­—æ®µï¼šèº«ä»½è¯å·é¦–æ¬¡å¡«å†™åä¸å¯ä¿®æ”¹
    if req.IDCardNo != "" && member.IDCardNo == "" {
        updateData["id_card_no"] = req.IDCardNo
    } else if req.IDCardNo != "" && member.IDCardNo != "" {
        return errors.New("èº«ä»½è¯å·å·²å¡«å†™ï¼Œå¦‚éœ€ä¿®æ”¹è¯·è”ç³»ç®¡ç†å‘˜")
    }
    
    // 5. è‡ªåŠ¨è®¡ç®—å¹´é¾„
    if req.Birthday != 0 {
        updateData["birthday"] = req.Birthday
        updateData["age"] = calculateAge(req.Birthday)
    }
    
    return s.repo.Update(ctx, member.ID, updateData)
}
```

### 10.3 æ•°æ®åŠ å¯†

**æ•æ„Ÿå­—æ®µåŠ å¯†å­˜å‚¨**ï¼š

```go
import "crypto/aes"

// EncryptIDCardNo åŠ å¯†èº«ä»½è¯å·
func EncryptIDCardNo(idCardNo string, key []byte) (string, error) {
    // ä½¿ç”¨AESåŠ å¯†
    block, err := aes.NewCipher(key)
    if err != nil {
        return "", err
    }
    // ... åŠ å¯†é€»è¾‘
    return encryptedText, nil
}

// DecryptIDCardNo è§£å¯†èº«ä»½è¯å·
func DecryptIDCardNo(encryptedText string, key []byte) (string, error) {
    // ... è§£å¯†é€»è¾‘
    return idCardNo, nil
}
```

**é…ç½®åŠ å¯†å¯†é’¥**ï¼š
```yaml
# config/miniapp.yaml
security:
  encryption_key: "your-32-byte-encryption-key-here"  # 32å­—èŠ‚å¯†é’¥ï¼ˆAES-256ï¼‰
```

### 10.4 å®¡è®¡æ—¥å¿—

**è®°å½•æ•æ„Ÿæ“ä½œ**ï¼š
- æŸ¥çœ‹å‘˜å·¥èº«ä»½è¯å·ï¼ˆå®Œæ•´ï¼‰
- ä¿®æ”¹è–ªèµ„ä¿¡æ¯
- æŸ¥çœ‹é“¶è¡Œå¡å·ï¼ˆå®Œæ•´ï¼‰
- ä¿®æ”¹å‘˜å·¥çŠ¶æ€ï¼ˆç¦»èŒç­‰ï¼‰

```go
type AuditLog struct {
    UserID    string `json:"user_id"`
    Action    string `json:"action"`      // view_idcard, update_salaryç­‰
    TargetID  string `json:"target_id"`   // è¢«æ“ä½œçš„å‘˜å·¥ID
    IPAddress string `json:"ip_address"`
    CreatedAt int64  `json:"created_at"`
}
```

---

## 11. æ‰©å±•åŠŸèƒ½ï¼ˆæœªæ¥ï¼‰

### 11.1 ç»Ÿè®¡æŠ¥è¡¨

- **å¹´é¾„åˆ†å¸ƒ**ï¼šæŒ‰å¹´é¾„æ®µç»Ÿè®¡å‘˜å·¥æ•°é‡
- **å­¦å†åˆ†å¸ƒ**ï¼šæŒ‰å­¦å†ç»Ÿè®¡å‘˜å·¥æ•°é‡
- **å·¥é¾„åˆ†å¸ƒ**ï¼šæŒ‰å·¥é¾„ç»Ÿè®¡å‘˜å·¥æ•°é‡
- **éƒ¨é—¨äººå‘˜ç»Ÿè®¡**ï¼šå„éƒ¨é—¨åœ¨èŒäººæ•°
- **æŠ€èƒ½åˆ†å¸ƒ**ï¼šå„æŠ€èƒ½æŒæ¡äººæ•°
- **åˆåŒåˆ°æœŸæé†’**ï¼šå³å°†åˆ°æœŸçš„åˆåŒåˆ—è¡¨

### 11.2 ç”Ÿæ—¥æé†’

- å½“å¤©ç”Ÿæ—¥å‘˜å·¥åˆ—è¡¨
- æœ¬æœˆç”Ÿæ—¥å‘˜å·¥åˆ—è¡¨
- ç”Ÿæ—¥ç¥ç¦æ¶ˆæ¯æ¨é€ï¼ˆå°ç¨‹åºï¼‰

### 11.3 åˆåŒç®¡ç†

- åˆåŒåˆ°æœŸæé†’ï¼ˆæå‰30å¤©ï¼‰
- è¯•ç”¨æœŸåˆ°æœŸæé†’ï¼ˆæå‰7å¤©ï¼‰
- è‡ªåŠ¨è½¬æ­£æé†’
- åˆåŒç»­ç­¾ç®¡ç†

### 11.4 å‘˜å·¥ç»©æ•ˆ

- ç»©æ•ˆè€ƒæ ¸è®°å½•
- å¥–æƒ©è®°å½•
- æ™‹å‡è®°å½•
- åŸ¹è®­è®°å½•

### 11.5 ç”µå­å·¥èµ„æ¡

- æœˆåº¦å·¥èµ„æ¡ç”Ÿæˆ
- å·¥èµ„æ¡æ¨é€ï¼ˆå°ç¨‹åºæ¶ˆæ¯ï¼‰
- å†å²å·¥èµ„æ¡æŸ¥è¯¢
- å·¥èµ„ç»Ÿè®¡åˆ†æ

---

## 12. æ€»ç»“

### 12.1 æ ¸å¿ƒç‰¹ç‚¹

1. âœ… **å®Œæ•´çš„å‘˜å·¥æ¡£æ¡ˆ**ï¼š59ä¸ªå­—æ®µï¼Œè¦†ç›–æœè£…ç”Ÿäº§MESæ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯
2. âœ… **æ•°æ®ç‰©ç†éš”ç¦»**ï¼šåŸºäºç§Ÿæˆ·codeçš„æ•°æ®åº“éš”ç¦»ï¼Œå®‰å…¨å¯é 
3. âœ… **çµæ´»çš„æƒé™æ§åˆ¶**ï¼šå‘˜å·¥å¯ç¼–è¾‘/åªè¯»å­—æ®µæ¸…æ™°åŒºåˆ†
4. âœ… **æ•æ„Ÿä¿¡æ¯ä¿æŠ¤**ï¼šèº«ä»½è¯ã€é“¶è¡Œå¡è„±æ•å’ŒåŠ å¯†å­˜å‚¨
5. âœ… **æœè£…è¡Œä¸šç‰¹è‰²**ï¼šæŠ€èƒ½ã€å·¥åºã€è®¡ä»¶å•ä»·ç­‰æœè£…ç”Ÿäº§ç‰¹æœ‰å­—æ®µ
6. âœ… **å‘˜å·¥è‡ªåŠ©æœåŠ¡**ï¼šå°ç¨‹åºç«¯æŸ¥çœ‹å’Œç¼–è¾‘ä¸ªäººæ¡£æ¡ˆ
7. âœ… **è‰¯å¥½çš„æ‰©å±•æ€§**ï¼šæ”¯æŒåç»­æ·»åŠ ç®¡ç†åå°ã€ç»Ÿè®¡æŠ¥è¡¨ç­‰åŠŸèƒ½

### 12.2 æŠ€æœ¯äº®ç‚¹

- **MongoDBçµæ´»æ–‡æ¡£ç»“æ„**ï¼šæ”¯æŒæŠ€èƒ½ã€è¯ä¹¦ç­‰æ•°ç»„å­—æ®µ
- **ç§Ÿæˆ·æ•°æ®åº“éš”ç¦»**ï¼š`tenant_{code}` å‘½åè§„èŒƒï¼Œç‰©ç†éš”ç¦»
- **Contextä¼ é€’ç§Ÿæˆ·ä¿¡æ¯**ï¼šè‡ªåŠ¨åˆ‡æ¢æ•°æ®åº“ï¼Œä»£ç ç®€æ´
- **å­—æ®µæƒé™æ§åˆ¶**ï¼šServiceå±‚æ§åˆ¶å¯ç¼–è¾‘å­—æ®µ
- **æ•°æ®è„±æ•å’ŒåŠ å¯†**ï¼šä¿æŠ¤æ•æ„Ÿä¿¡æ¯
- **å‰åç«¯åˆ†ç¦»**ï¼šæ¥å£æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•

### 12.3 å®æ–½æ”¶ç›Š

| ç»´åº¦ | æ”¹é€ å‰ | æ”¹é€ å | æå‡ |
|------|--------|--------|------|
| å‘˜å·¥æ¡£æ¡ˆå®Œæ•´æ€§ | 12ä¸ªåŸºç¡€å­—æ®µ | 59ä¸ªå®Œæ•´å­—æ®µ | â­â­â­â­â­ |
| æœè£…è¡Œä¸šé€‚é… | æ— è¡Œä¸šç‰¹è‰² | æŠ€èƒ½ã€å·¥åºã€è®¡ä»¶ | â­â­â­â­â­ |
| å‘˜å·¥è‡ªåŠ©æœåŠ¡ | åŸºç¡€ç¼–è¾‘ | å®Œæ•´æ¡£æ¡ˆç®¡ç† | â­â­â­â­ |
| æ•°æ®å®‰å…¨æ€§ | åŸºç¡€ | è„±æ•+åŠ å¯†+å®¡è®¡ | â­â­â­â­â­ |
| å¯æ‰©å±•æ€§ | ä¸€èˆ¬ | æ”¯æŒå¤šç§æ‰©å±• | â­â­â­â­ |

### 12.4 åç»­è®¡åˆ’

**çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰**ï¼š
- âœ… å®Œæˆé˜¶æ®µä¸€è‡³äº”ï¼ˆåç«¯API + å°ç¨‹åºå‰ç«¯ï¼‰
- âœ… æ•°æ®è¿ç§»å’Œæµ‹è¯•
- âœ… ä¸Šçº¿è¯•è¿è¡Œ

**ä¸­æœŸï¼ˆ1-2ä¸ªæœˆï¼‰**ï¼š
- â¬œ PCç®¡ç†åå°ï¼ˆå‘˜å·¥ç®¡ç†ã€ç»Ÿè®¡æŠ¥è¡¨ï¼‰
- â¬œ æ‰¹é‡å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½
- â¬œ åˆåŒåˆ°æœŸæé†’
- â¬œ ç”Ÿæ—¥æé†’

**é•¿æœŸï¼ˆ3-6ä¸ªæœˆï¼‰**ï¼š
- â¬œ å‘˜å·¥ç»©æ•ˆç®¡ç†
- â¬œ ç”µå­å·¥èµ„æ¡
- â¬œ åŸ¹è®­è®°å½•ç®¡ç†
- â¬œ æŠ€èƒ½æˆé•¿è½¨è¿¹

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**åˆ›å»ºæ—¥æœŸ**ï¼š2025-10-19  
**ä½œè€…**ï¼šMule-Cloud å¼€å‘å›¢é˜Ÿ  
**çŠ¶æ€**ï¼šå¾…å®æ–½

---

## é™„å½•

### é™„å½•Aï¼šå­—æ®µå¯¹ç…§è¡¨ï¼ˆä¸­è‹±æ–‡ï¼‰

| ä¸­æ–‡ | è‹±æ–‡ | ç±»å‹ | è¯´æ˜ |
|------|------|------|------|
| å§“åæ‹¼éŸ³ | name_pinyin | string | ç”¨äºæ’åº |
| è¯ä»¶ç±»å‹ | id_card_type | string | idcard/passport |
| èº«ä»½è¯å· | id_card_no | string | åŠ å¯†å­˜å‚¨ |
| å‡ºç”Ÿæ—¥æœŸ | birthday | int64 | Unixæ—¶é—´æˆ³ |
| å¹´é¾„ | age | int | è‡ªåŠ¨è®¡ç®— |
| æ°‘æ— | nation | string | å¦‚ï¼šæ±‰æ— |
| ç±è´¯ | native_place | string | å¦‚ï¼šå¹¿ä¸œæ·±åœ³ |
| å©šå§»çŠ¶å†µ | marital_status | string | single/married/divorced |
| æ”¿æ²»é¢è²Œ | political | string | party/league/masses |
| å­¦å† | education | string | primary/middle/high/college/bachelor/master/doctor |
| è¯ä»¶ç…§ | photo | string | URL |
| ç´§æ€¥è”ç³»äºº | emergency_contact | string | å§“å |
| ç´§æ€¥ç”µè¯ | emergency_phone | string | æ‰‹æœºå· |
| ç´§æ€¥è”ç³»äººå…³ç³» | emergency_relation | string | å¦‚ï¼šçˆ¶äº²ã€é…å¶ |
| è½¦é—´ | workshop | string | å¦‚ï¼šä¸€è½¦é—´ |
| ç­ç»„ | team | string | å¦‚ï¼šAç»„ |
| ç­ç»„é•¿ | team_leader | string | å§“å |
| è½¬æ­£æ—¥æœŸ | regular_at | int64 | Unixæ—¶é—´æˆ³ |
| åˆåŒç±»å‹ | contract_type | string | fulltime/parttime/intern/dispatch |
| åˆåŒå¼€å§‹æ—¥æœŸ | contract_start_at | int64 | Unixæ—¶é—´æˆ³ |
| åˆåŒç»“æŸæ—¥æœŸ | contract_end_at | int64 | Unixæ—¶é—´æˆ³ï¼ˆ0=æ— å›ºå®šæœŸé™ï¼‰ |
| å·¥é¾„ï¼ˆå¹´ï¼‰ | work_years | int | è‡ªåŠ¨è®¡ç®— |
| å·¥é¾„ï¼ˆæœˆï¼‰ | work_months | int | è‡ªåŠ¨è®¡ç®— |
| è–ªèµ„ç±»å‹ | salary_type | string | hourly/piece/monthly/mixed |
| åŸºæœ¬å·¥èµ„ | base_salary | float64 | å…ƒ/æœˆ |
| æ—¶è–ª | hourly_rate | float64 | å…ƒ/å°æ—¶ |
| è®¡ä»¶å•ä»· | piece_rate | float64 | å…ƒ/ä»¶ |
| å¼€æˆ·è¡Œ | bank_name | string | é“¶è¡Œåç§° |
| é“¶è¡Œå¡å· | bank_account | string | åŠ å¯†å­˜å‚¨ |
| å¼€æˆ·å | bank_account_name | string | å§“å |
| ç¦»èŒæ—¥æœŸ | left_at | int64 | Unixæ—¶é—´æˆ³ |
| ç¦»èŒåŸå›  | left_reason | string | æ–‡æœ¬ |

### é™„å½•Bï¼šæšä¸¾å€¼å®šä¹‰

```go
// æ€§åˆ«
const (
    GenderUnknown = 0  // æœªçŸ¥
    GenderMale    = 1  // ç”·
    GenderFemale  = 2  // å¥³
)

// è¯ä»¶ç±»å‹
const (
    IDCardTypeIDCard   = "idcard"   // èº«ä»½è¯
    IDCardTypePassport = "passport" // æŠ¤ç…§
)

// å©šå§»çŠ¶å†µ
const (
    MaritalStatusSingle   = "single"   // æœªå©š
    MaritalStatusMarried  = "married"  // å·²å©š
    MaritalStatusDivorced = "divorced" // ç¦»å¼‚
)

// æ”¿æ²»é¢è²Œ
const (
    PoliticalParty  = "party"  // å…šå‘˜
    PoliticalLeague = "league" // å›¢å‘˜
    PoliticalMasses = "masses" // ç¾¤ä¼—
)

// å­¦å†
const (
    EducationPrimary  = "primary"  // å°å­¦
    EducationMiddle   = "middle"   // åˆä¸­
    EducationHigh     = "high"     // é«˜ä¸­
    EducationCollege  = "college"  // å¤§ä¸“
    EducationBachelor = "bachelor" // æœ¬ç§‘
    EducationMaster   = "master"   // ç¡•å£«
    EducationDoctor   = "doctor"   // åšå£«
)

// åˆåŒç±»å‹
const (
    ContractTypeFullTime = "fulltime"  // å…¨èŒ
    ContractTypePartTime = "parttime"  // å…¼èŒ
    ContractTypeIntern   = "intern"    // å®ä¹ 
    ContractTypeDispatch = "dispatch"  // åŠ³åŠ¡æ´¾é£
)

// è–ªèµ„ç±»å‹
const (
    SalaryTypeHourly  = "hourly"  // è®¡æ—¶
    SalaryTypePiece   = "piece"   // è®¡ä»¶
    SalaryTypeMonthly = "monthly" // æœˆè–ª
    SalaryTypeMixed   = "mixed"   // æ··åˆ
)

// å‘˜å·¥çŠ¶æ€
const (
    MemberStatusActive    = "active"    // åœ¨èŒ
    MemberStatusProbation = "probation" // è¯•ç”¨æœŸ
    MemberStatusInactive  = "inactive"  // ç¦»èŒ
    MemberStatusSuspended = "suspended" // åœèŒ
)

// æŠ€èƒ½ç­‰çº§
const (
    SkillLevelBeginner     = "beginner"     // åˆçº§
    SkillLevelIntermediate = "intermediate" // ä¸­çº§
    SkillLevelAdvanced     = "advanced"     // é«˜çº§
    SkillLevelExpert       = "expert"       // ä¸“å®¶
)
```

### é™„å½•Cï¼šå¸¸ç”¨æŠ€èƒ½åˆ—è¡¨ï¼ˆæœè£…è¡Œä¸šï¼‰

```go
var CommonSkills = []string{
    "ç¼çº«",      // å¹³ç¼ã€é”è¾¹ã€åŒ…ç¼ç­‰
    "è£å‰ª",      // æ‰‹å·¥è£å‰ªã€ç”µè£ç­‰
    "æ•´çƒ«",      // ç†¨çƒ«ã€å®šå‹ç­‰
    "åŒ…è£…",      // æŠ˜å ã€è£…è¢‹ã€æ‰“åŒ…ç­‰
    "è´¨æ£€",      // æˆå“æ£€éªŒã€è¿‡ç¨‹æ£€éªŒç­‰
    "æ‰“æ ·",      // æ ·è¡£åˆ¶ä½œ
    "æ‹‰å¸ƒ",      // é“ºå¸ƒ
    "ç»£èŠ±",      // ç”µè„‘ç»£èŠ±
    "å°èŠ±",      // ä¸ç½‘å°èŠ±ã€æ•°ç å°èŠ±ç­‰
    "é’‰æ‰£",      // é’‰çº½æ‰£ã€é’‰æ ‡ç­‰
    "è½¦é—´ç®¡ç†",  // ç”Ÿäº§ç®¡ç†
    "å·¥è‰ºè®¾è®¡",  // å·¥è‰ºæµç¨‹è®¾è®¡
}
```

